import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";import{r as o,o as c,c as i,a as n,b as e,d as a,e as t}from"./app.56b03e2c.js";const l={},u=n("h1",{id:"spring\u6CE8\u89E3\u5927\u5168",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#spring\u6CE8\u89E3\u5927\u5168","aria-hidden":"true"},"#"),a(" Spring\u6CE8\u89E3\u5927\u5168")],-1),r=n("p",null,"\u5B98\u65B9\u6587\u6863\u67E5\u6CE8\u89E3",-1),d={href:"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/package-summary.html",target:"_blank",rel:"noopener noreferrer"},k=a("https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/package-summary.html "),v=n("p",null,"\u53EF\u4EE5\u901A\u8FC7package\u53BB\u67E5\u770B\u5B98\u65B9\u6587\u6863\u91CC\u7684\u5177\u4F53\u8BF4\u660E\uFF0C\u6BD4\u5982\uFF1A Annotation Types Summary\u90E8\u5206\u5C31\u662F\u8BE5package\u4E0B\u6240\u6709\u6CE8\u89E3\u7684\u8BF4\u660E\u3002",-1),m={href:"http://rcode.rbtree.cn/tool/spring.html",target:"_blank",rel:"noopener noreferrer"},b=a("Spring\u6CE8\u89E3\u6587\u6863(\u6BD4\u8F83\u8001)"),g=t(`<h2 id="\u4E00\u3001spring-bean\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u4E00\u3001spring-bean\u6CE8\u89E3" aria-hidden="true">#</a> \u4E00\u3001Spring bean\u6CE8\u89E3</h2><h3 id="_1\u3001-springbootapplication" tabindex="-1"><a class="header-anchor" href="#_1\u3001-springbootapplication" aria-hidden="true">#</a> 1\u3001@SpringBootApplication</h3><p>\u8BA9spring boot\u81EA\u52A8\u7ED9\u7A0B\u5E8F\u8FDB\u884C\u5FC5\u8981\u7684\u914D\u7F6E\uFF0C\u8FD9\u4E2A\u914D\u7F6E\u7B49\u540C\u4E8E\uFF1A@Configuration \uFF0C@EnableAutoConfiguration \u548C @ComponentScan \u4E09\u4E2A\u914D\u7F6E\u3002</p><h3 id="_2\u3001-component" tabindex="-1"><a class="header-anchor" href="#_2\u3001-component" aria-hidden="true">#</a> 2\u3001@Component</h3><p>\u6CDB\u6307\u5404\u79CD\u7EC4\u4EF6\uFF0C\u5C31\u662F\u8BF4\u5F53\u6211\u4EEC\u7684\u7C7B\u4E0D\u5C5E\u4E8E\u5404\u79CD\u5F52\u7C7B\u7684\u65F6\u5019\uFF08\u4E0D\u5C5E\u4E8E@Controller\u3001@Services\u7B49\u7684\u65F6\u5019\uFF09\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u4F7F\u7528@Component\u6765\u6807\u6CE8\u8FD9\u4E2A\u7C7B\uFF0C\u628A\u666E\u901Apojo\u5B9E\u4F8B\u5316\u5230spring\u5BB9\u5668\u4E2D\uFF0C\u76F8\u5F53\u4E8E\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\uFF1A\u3002</p><p>\u6240\u4EE5\u53EF\u4EE5\u7406\u89E3\u4E3A@Component\u53EF\u4EE5\u7EC6\u5316\u4E3A@Reposity\uFF0C@Service,@Controller\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">&quot;conversionImpl&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//\u5176\u5B9E\u9ED8\u8BA4\u7684spring\u4E2D\u7684Bean id \u4E3A conversionImpl(\u9996\u5B57\u6BCD\u5C0F\u5199)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConversionImpl</span> <span class="token keyword">implements</span> <span class="token class-name">Conversion</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RedisClient</span> redisClient<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3\u3001-componentscan" tabindex="-1"><a class="header-anchor" href="#_3\u3001-componentscan" aria-hidden="true">#</a> 3\u3001@ComponentScan</h3><p>@ComponentScan\u4E3B\u8981\u5C31\u662F\u5B9A\u4E49\u626B\u63CF\u7684\u8DEF\u5F84\u4ECE\u4E2D\u627E\u51FA\u6807\u8BC6\u4E86\u9700\u8981\u88C5\u914D\u7684\u7C7B\u81EA\u52A8\u88C5\u914D\u5230spring\u7684bean\u5BB9\u5668\u4E2D\u3002\u524D\u9762\u8BF4\u5230\u8FC7@Controller\u6CE8\u89E3\uFF0C@Service\uFF0C@Repository\u6CE8\u89E3\uFF0C\u5B83\u4EEC\u5176\u5B9E\u90FD\u662F\u7EC4\u4EF6\uFF0C\u5C5E\u4E8E@Component\u6CE8\u89E3\uFF0C\u800C@ComponentScan\u6CE8\u89E3\u9ED8\u8BA4\u4F1A\u88C5\u914D\u6807\u8BC6\u4E86@Controller\uFF0C@Service\uFF0C@Repository\uFF0C@Component\u6CE8\u89E3\u7684\u7C7B\u5230spring\u5BB9\u5668\u4E2D\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u626B\u63CFcom.demo\u4E0B\u7684\u7EC4\u4EF6</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;com.demo&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> myConfig <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4\u3001-service" tabindex="-1"><a class="header-anchor" href="#_4\u3001-service" aria-hidden="true">#</a> 4\u3001@Service</h3><p>\u4E00\u822C\u7528\u4E8E\u4FEE\u9970service\u5C42\u7684\u7EC4\u4EF6</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        userDao<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5\u3001-enableautoconfiguration" tabindex="-1"><a class="header-anchor" href="#_5\u3001-enableautoconfiguration" aria-hidden="true">#</a> 5\u3001@EnableAutoConfiguration</h3><p>SpringBoot\u81EA\u52A8\u914D\u7F6E\uFF08auto-configuration\uFF09\uFF1A\u5C1D\u8BD5\u6839\u636E\u4F60\u6DFB\u52A0\u7684jar\u4F9D\u8D56\u81EA\u52A8\u914D\u7F6E\u4F60\u7684Spring\u5E94\u7528\u3002</p><p>\u4F8B\u5982\uFF0C\u5982\u679C\u4F60\u7684classpath\u4E0B\u5B58\u5728HSQLDB\uFF0C\u5E76\u4E14\u4F60\u6CA1\u6709\u624B\u52A8\u914D\u7F6E\u4EFB\u4F55\u6570\u636E\u5E93\u8FDE\u63A5beans\uFF0C\u90A3\u4E48\u6211\u4EEC\u5C06\u81EA\u52A8\u914D\u7F6E\u4E00\u4E2A\u5185\u5B58\u578B\uFF08in-memory\uFF09\u6570\u636E\u5E93\u3002</p><p>\u4F60\u53EF\u4EE5\u5C06@EnableAutoConfiguration\u6216\u8005@SpringBootApplication\u6CE8\u89E3\u6DFB\u52A0\u5230\u4E00\u4E2A@Configuration\u7C7B\u4E0A\u6765\u9009\u62E9\u81EA\u52A8\u914D\u7F6E\u3002\u5982\u679C\u53D1\u73B0\u5E94\u7528\u4E86\u4F60\u4E0D\u60F3\u8981\u7684\u7279\u5B9A\u81EA\u52A8\u914D\u7F6E\u7C7B\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528@EnableAutoConfiguration\u6CE8\u89E3\u7684<code>\u6392\u9664\u5C5E\u6027</code>\u6765\u7981\u7528\u5B83\u4EEC\u3002</p><p>\u7981\u7528\u7279\u5B9A\u7684\u81EA\u52A8\u914D\u7F6E\u5C5E\u6027</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableAutoConfiguration</span><span class="token punctuation">(</span>exclude<span class="token operator">=</span><span class="token punctuation">{</span><span class="token class-name">DataSourceAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConfiguration</span><span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6\u3001-resource\u3001-autowired\u548C-inject" tabindex="-1"><a class="header-anchor" href="#_6\u3001-resource\u3001-autowired\u548C-inject" aria-hidden="true">#</a> 6\u3001@Resource\u3001@Autowired\u548C@Inject</h3><p>@Resource\u548C@Autowired\u90FD\u662F\u505A<code>bean\u6CE8\u5165</code>\u65F6\u4F7F\u7528\u3002</p><p>@Resource\u7684\u4F5C\u7528\u76F8\u5F53\u4E8E@Autowired\uFF0C\u53EA\u4E0D\u8FC7<code>@Autowired\u6309\u7167byType</code>\u81EA\u52A8\u6CE8\u5165\u3002</p><p>1\u3001\u5171\u540C\u70B9</p><p>\u4E24\u8005\u90FD\u53EF\u4EE5\u5199\u5728\u5B57\u6BB5\u548Csetter\u65B9\u6CD5\u4E0A\u3002\u4E24\u8005\u5982\u679C\u90FD\u5199\u5728\u5B57\u6BB5\u4E0A\uFF0C\u90A3\u4E48\u5C31\u4E0D\u9700\u8981\u518D\u5199setter\u65B9\u6CD5\u3002</p><p>2\u3001\u4E0D\u540C\u70B9</p><h4 id="_6-1\u3001-autowired" tabindex="-1"><a class="header-anchor" href="#_6-1\u3001-autowired" aria-hidden="true">#</a> 6.1\u3001@Autowired</h4><p>Spring 2.5 \u5F15\u5165\u3002@Autowired\u4E3ASpring\u63D0\u4F9B\u7684\u6CE8\u89E3\uFF0C\u9700\u8981\u5BFC\u5165\u5305org.springframework.beans.factory.annotation.Autowired\uFF0C\u53EA\u6309\u7167byType\u6CE8\u5165\u3002</p><p>@Autowired\u6CE8\u89E3\u662F\u6309\u7167\u7C7B\u578B\uFF08byType\uFF09\u88C5\u914D\u4F9D\u8D56\u5BF9\u8C61\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u5B83\u8981\u6C42\u4F9D\u8D56\u5BF9\u8C61\u5FC5\u987B\u5B58\u5728\uFF0C<code>\u5982\u679C\u5141\u8BB8null\u503C\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u5B83\u7684required\u5C5E\u6027\u4E3Afalse</code>\u3002\u5982\u679C\u6211\u4EEC\u60F3\u4F7F\u7528\u6309\u7167\u540D\u79F0\uFF08byName\uFF09\u6765\u88C5\u914D\uFF0C\u53EF\u4EE5\u7ED3\u5408@Qualifier\u6CE8\u89E3\u4E00\u8D77\u4F7F\u7528\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestServiceImpl</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4E0B\u9762\u4E24\u79CD@Autowired\u53EA\u8981\u4F7F\u7528\u4E00\u79CD\u5373\u53EF</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span> <span class="token comment">// \u7528\u4E8E\u5B57\u6BB5\u4E0A</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserDao</span><span class="token punctuation">(</span><span class="token class-name">UserDao</span> userDao<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// \u7528\u4E8E\u5C5E\u6027\u7684\u65B9\u6CD5\u4E0A</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-2\u3001-resource" tabindex="-1"><a class="header-anchor" href="#_6-2\u3001-resource" aria-hidden="true">#</a> 6.2\u3001@Resource</h4><p>@<code>Resource\u9ED8\u8BA4\u6309\u7167ByName</code>\u81EA\u52A8\u6CE8\u5165\uFF0C\u7531J2EE\u63D0\u4F9B\uFF0C\u662FJSR250\u89C4\u8303\u7684\u5B9E\u73B0\uFF0C\u9700\u8981\u5BFC\u5165javax.annotation\u5B9E\u73B0\u6CE8\u5165\u3002</p><p>@Resource\u6709\u4E24\u4E2A\u91CD\u8981\u7684\u5C5E\u6027\uFF1Aname\u548Ctype\uFF0C\u800CSpring\u5C06@Resource\u6CE8\u89E3\u7684name\u5C5E\u6027\u89E3\u6790\u4E3Abean\u7684\u540D\u5B57\uFF0C\u800Ctype\u5C5E\u6027\u5219\u89E3\u6790\u4E3Abean\u7684\u7C7B\u578B\u3002\u6240\u4EE5\uFF0C\u5982\u679C\u4F7F\u7528name\u5C5E\u6027\uFF0C\u5219\u4F7F\u7528byName\u7684\u81EA\u52A8\u6CE8\u5165\u7B56\u7565\uFF0C\u800C\u4F7F\u7528type\u5C5E\u6027\u65F6\u5219\u4F7F\u7528byType\u81EA\u52A8\u6CE8\u5165\u7B56\u7565\u3002\u5982\u679C\u65E2\u4E0D\u5236\u5B9Aname\u4E5F\u4E0D\u5236\u5B9Atype\u5C5E\u6027\uFF0C\u8FD9\u65F6\u5C06\u901A\u8FC7\u53CD\u5C04\u673A\u5236\u4F7F\u7528byName\u81EA\u52A8\u6CE8\u5165\u7B56\u7565\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestServiceImpl</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4E0B\u9762\u4E24\u79CD@Resource\u53EA\u8981\u4F7F\u7528\u4E00\u79CD\u5373\u53EF</span>
    <span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span> <span class="token comment">// \u7528\u4E8E\u5B57\u6BB5\u4E0A</span>
    <span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserDao</span><span class="token punctuation">(</span><span class="token class-name">UserDao</span> userDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u7528\u4E8E\u5C5E\u6027\u7684setter\u65B9\u6CD5\u4E0A</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\uFF1A\u6700\u597D\u662F\u5C06@Resource\u653E\u5728setter\u65B9\u6CD5\u4E0A\uFF0C\u56E0\u4E3A\u8FD9\u6837\u66F4\u7B26\u5408\u9762\u5411\u5BF9\u8C61\u7684\u601D\u60F3\uFF0C\u901A\u8FC7set\u3001get\u53BB\u64CD\u4F5C\u5C5E\u6027\uFF0C\u800C\u4E0D\u662F\u76F4\u63A5\u53BB\u64CD\u4F5C\u5C5E\u6027\u3002</p><p>@Resource\u88C5\u914D\u987A\u5E8F\uFF1A</p><ul><li>\u5982\u679C\u540C\u65F6\u6307\u5B9A\u4E86name\u548Ctype\uFF0C\u5219\u4ECESpring\u4E0A\u4E0B\u6587\u4E2D\u627E\u5230\u552F\u4E00\u5339\u914D\u7684bean\u8FDB\u884C\u88C5\u914D\uFF0C\u627E\u4E0D\u5230\u5219\u629B\u51FA\u5F02\u5E38\u3002</li><li>\u5982\u679C\u6307\u5B9A\u4E86name\uFF0C\u5219\u4ECE\u4E0A\u4E0B\u6587\u4E2D\u67E5\u627E\u540D\u79F0\uFF08id\uFF09\u5339\u914D\u7684bean\u8FDB\u884C\u88C5\u914D\uFF0C\u627E\u4E0D\u5230\u5219\u629B\u51FA\u5F02\u5E38\u3002</li><li>\u5982\u679C\u6307\u5B9A\u4E86type\uFF0C\u5219\u4ECE\u4E0A\u4E0B\u6587\u4E2D\u627E\u5230\u7C7B\u4F3C\u5339\u914D\u7684\u552F\u4E00bean\u8FDB\u884C\u88C5\u914D\uFF0C\u627E\u4E0D\u5230\u6216\u662F\u627E\u5230\u591A\u4E2A\uFF0C\u90FD\u4F1A\u629B\u51FA\u5F02\u5E38\u3002</li><li>\u5982\u679C\u65E2\u6CA1\u6709\u6307\u5B9Aname\uFF0C\u53C8\u6CA1\u6709\u6307\u5B9Atype\uFF0C\u5219\u81EA\u52A8\u6309\u7167byName\u65B9\u5F0F\u8FDB\u884C\u88C5\u914D\uFF1B\u5982\u679C\u6CA1\u6709\u5339\u914D\uFF0C\u5219\u56DE\u9000\u4E3A\u4E00\u4E2A\u539F\u59CB\u7C7B\u578B\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u679C\u5339\u914D\u5219\u81EA\u52A8\u88C5\u914D\u3002</li></ul><h4 id="_6-3\u3001-inject" tabindex="-1"><a class="header-anchor" href="#_6-3\u3001-inject" aria-hidden="true">#</a> 6.3\u3001@Inject</h4><p>@Inject\u662FJSR330 (Dependency Injection for Java)\u4E2D\u7684\u89C4\u8303\uFF0C\u9700\u8981\u5BFC\u5165javax.inject.Inject;\u5B9E\u73B0\u6CE8\u5165\u3002@Inject\u53EF\u4EE5\u4F5C\u7528\u5728\u53D8\u91CF\u3001setter\u65B9\u6CD5\u3001\u6784\u9020\u51FD\u6570\u4E0A\u3002\u6839\u636E\u7C7B\u578B\u8FDB\u884C\u81EA\u52A8\u88C5\u914D\u7684\uFF0C\u5982\u679C\u9700\u8981\u6309\u540D\u79F0\u8FDB\u884C\u88C5\u914D\uFF0C\u5219\u9700\u8981\u914D\u5408@Named\u3002</p><p>@Named(&quot;XXX&quot;) \u4E2D\u7684 XXX\u662F Bean \u7684\u540D\u79F0\uFF0C\u6240\u4EE5 @Inject\u548C @Named\u7ED3\u5408\u4F7F\u7528\u65F6\uFF0C\u81EA\u52A8\u6CE8\u5165\u7684\u7B56\u7565\u5C31\u4ECE byType \u8F6C\u53D8\u6210 byName \u4E86\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Person</span> person<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Inject</span>
    pbulic <span class="token keyword">void</span> <span class="token function">setPerson</span><span class="token punctuation">(</span><span class="token class-name">Person</span> person<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>person <span class="token operator">=</span> person<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Inject</span>
    pbulic <span class="token keyword">void</span> <span class="token function">setPerson1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Named</span><span class="token punctuation">(</span><span class="token string">&quot;main&quot;</span><span class="token punctuation">)</span><span class="token class-name">Person</span> person<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>person <span class="token operator">=</span> person<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4\u3001-qualifier" tabindex="-1"><a class="header-anchor" href="#_6-4\u3001-qualifier" aria-hidden="true">#</a> 6.4\u3001@Qualifier</h4><p>\u5F53\u7CFB\u7EDF\u4E2D\u5B58\u5728\u540C\u4E00\u7C7B\u578B\u7684\u591A\u4E2ABean\u65F6\uFF0C@Autowired\u5728\u8FDB\u884C\u4F9D\u8D56\u6CE8\u5165\u7684\u65F6\u5019\u5C31\u4E0D\u77E5\u9053\u8BE5\u9009\u62E9\u54EA\u4E00\u4E2A\u5B9E\u73B0\u7C7B\u8FDB\u884C\u6CE8\u5165\u3002\u6B64\u65F6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528@Qualifier\u6CE8\u89E3\u6765\u5FAE\u8C03\uFF0C\u5E2E\u52A9@Autowired\u9009\u62E9\u6B63\u786E\u7684\u4F9D\u8D56\u9879\uFF1B</p><h3 id="_7\u3001-repository" tabindex="-1"><a class="header-anchor" href="#_7\u3001-repository" aria-hidden="true">#</a> 7\u3001@Repository</h3><p>\u7528\u4E8E\u6CE8\u89E3dao\u5C42\uFF0C\u5728daoImpl\u7C7B\u4E0A\u9762\u6CE8\u89E3\u3002</p><h3 id="_8\u3001-bean" tabindex="-1"><a class="header-anchor" href="#_8\u3001-bean" aria-hidden="true">#</a> 8\u3001@Bean</h3><p>\u4EA7\u751F\u4E00\u4E2ABean\u5BF9\u8C61\uFF0C\u7136\u540E\u8FD9\u4E2ABean\u5BF9\u8C61\u4EA4\u7ED9Spring\u7BA1\u7406\u3002\u7528@Bean\u6807\u6CE8\u65B9\u6CD5\u7B49\u4EF7\u4E8EXML\u4E2D\u914D\u7F6E\u7684bean\u3002</p><p>\u4EA7\u751F\u8FD9\u4E2ABean\u5BF9\u8C61\u7684\u65B9\u6CD5Spring\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\uFF0C\u968F\u540E\u8FD9\u4E2ASpring\u5C06\u4F1A\u5C06\u8FD9\u4E2ABean\u5BF9\u8C61\u653E\u5728\u81EA\u5DF1\u7684IOC\u5BB9\u5668\u4E2D\u3002SpringIOC \u5BB9\u5668\u7BA1\u7406\u4E00\u4E2A\u6216\u8005\u591A\u4E2Abean\uFF0C\u8FD9\u4E9Bbean\u90FD\u9700\u8981\u5728@Configuration\u6CE8\u89E3\u4E0B\u8FDB\u884C\u521B\u5EFA\uFF0C\u5728\u4E00\u4E2A\u65B9\u6CD5\u4E0A\u4F7F\u7528@Bean\u6CE8\u89E3\u5C31\u8868\u660E\u8FD9\u4E2A\u65B9\u6CD5\u9700\u8981\u4EA4\u7ED9Spring\u8FDB\u884C\u7BA1\u7406\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u521B\u5EFAuser\u5B9E\u4F8B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F20\u4E09&quot;</span><span class="token punctuation">,</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>@Bean \u6CE8\u89E3\u7684\u5C5E\u6027\u6709\uFF1Avalue\u3001name\u3001autowire\u3001initMethod\u3001destroyMethod\u3002</p><p>name \u548C value \u4E24\u4E2A\u5C5E\u6027\u662F\u76F8\u540C\u7684\u542B\u4E49\u7684\uFF0C \u5728\u4EE3\u7801\u4E2D\u5B9A\u4E49\u4E86\u522B\u540D\u3002\u4E3A bean \u8D77\u4E00\u4E2A\u540D\u5B57\uFF0C\u5982\u679C\u9ED8\u8BA4\u6CA1\u6709\u5199\u8BE5\u5C5E\u6027\uFF0C\u90A3\u4E48\u5C31\u4F7F\u7528\u65B9\u6CD5\u7684\u540D\u79F0\u4E3A\u8BE5 bean \u7684\u540D\u79F0\u3002</p>`,50),h=a("autowire\u6307\u5B9A bean \u7684\u88C5\u914D\u65B9\u5F0F\uFF0C \u6839\u636E\u540D\u79F0 \u548C \u6839\u636E\u7C7B\u578B \u88C5\u914D\uFF0C \u4E00\u822C\u4E0D\u8BBE\u7F6E\uFF0C\u91C7\u7528\u9ED8\u8BA4\u5373\u53EF\u3002autowire\u6307\u5B9A\u7684\u88C5\u914D\u65B9\u5F0F "),y={href:"http://xn--Autowire-b39lp87r4e2b.NO",target:"_blank",rel:"noopener noreferrer"},f=a("\u6709\u4E09\u79CDAutowire.NO"),q=a(" (\u9ED8\u8BA4\u8BBE\u7F6E)\u3001Autowire.BY_NAME\u3001Autowire.BY_TYPE\u3002"),w=t(`<p>initMethod\u548CdestroyMethod\u6307\u5B9Abean\u7684\u521D\u59CB\u5316\u65B9\u6CD5\u548C\u9500\u6BC1\u65B9\u6CD5\uFF0C \u76F4\u63A5\u6307\u5B9A\u65B9\u6CD5\u540D\u79F0\u5373\u53EF\uFF0C\u4E0D\u7528\u5E26\u62EC\u53F7\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBean</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">MyBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MyBean Initializing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Bean \u521D\u59CB\u5316\u65B9\u6CD5\u88AB\u8C03\u7528&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Bean \u9500\u6BC1\u65B9\u6CD5\u88AB\u8C03\u7528&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>initMethod <span class="token operator">=</span> <span class="token string">&quot;init&quot;</span><span class="token punctuation">,</span> destroyMethod <span class="token operator">=</span> <span class="token string">&quot;destroy&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">MyBean</span> <span class="token function">myBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-1\u3001-primary" tabindex="-1"><a class="header-anchor" href="#_8-1\u3001-primary" aria-hidden="true">#</a> 8.1\u3001@Primary</h4><p>\u5F53\u7CFB\u7EDF\u4E2D\u9700\u8981\u914D\u7F6E\u591A\u4E2A\u5177\u6709\u76F8\u540C\u7C7B\u578B\u7684bean\u65F6\uFF0C@Primary\u53EF\u4EE5\u5B9A\u4E49\u8FD9\u4E9BBean\u7684[\u4F18\u5148\u7EA7\u3002</p><h4 id="_8-2\u3001-dependson" tabindex="-1"><a class="header-anchor" href="#_8-2\u3001-dependson" aria-hidden="true">#</a> 8.2\u3001@DependsOn</h4><p><code>@DependsOn</code>\u6CE8\u89E3\u53EF\u4EE5\u914D\u7F6ESpring IoC\u5BB9\u5668\u5728\u521D\u59CB\u5316\u4E00\u4E2ABean\u4E4B\u524D\uFF0C\u5148\u521D\u59CB\u5316\u5176\u4ED6\u7684Bean\u5BF9\u8C61\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">&quot;firstBean&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@DependOn</span><span class="token punctuation">(</span><span class="token string">&quot;value={&quot;</span><span class="token class-name">SecondBean</span><span class="token string">&quot;,&quot;</span><span class="token class-name">ThirdBean</span><span class="token string">&quot;}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">FirstBean</span> <span class="token function">getFirstBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">FirstBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token class-name">SecondBean</span> <span class="token function">getSecondBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SecondBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token class-name">ThirdBean</span> <span class="token function">getThirdBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ThirdBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9\u3001-scope" tabindex="-1"><a class="header-anchor" href="#_9\u3001-scope" aria-hidden="true">#</a> 9\u3001@Scope</h3><p>@Scope\u6CE8\u89E3\u9ED8\u8BA4\u7684singleton\u5355\u4F8B\u6A21\u5F0F\u3002</p><p>@Scope\u6CE8\u89E3\u662FspringIoc\u5BB9\u5668\u4E2D\u7684\u4E00\u4E2A\u4F5C\u7528\u57DF\uFF0C\u5728 Spring IoC \u5BB9\u5668\u4E2D\u5177\u6709\u4EE5\u4E0B\u51E0\u79CD\u4F5C\u7528\u57DF\uFF1A\u57FA\u672C\u4F5C\u7528\u57DFsingleton\uFF08\u5355\u4F8B\uFF09\u3001prototype(\u591A\u4F8B)\uFF0CWeb \u4F5C\u7528\u57DF\uFF08reqeust\u3001session\u3001globalsession\uFF09\uFF0C\u81EA\u5B9A\u4E49\u4F5C\u7528\u57DF\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>prototype\u539F\u578B\u6A21\u5F0F\uFF1A
<span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token class-name">ConfigurableBeanFactory</span><span class="token punctuation">.</span>SCOPE_PROTOTYPE<span class="token punctuation">)</span>\u5728\u6BCF\u6B21\u6CE8\u5165\u7684\u65F6\u5019\u56DE\u81EA\u52A8\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684bean\u5B9E\u4F8B

singleton\u5355\u4F8B\u6A21\u5F0F\uFF1A
<span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token class-name">ConfigurableBeanFactory</span><span class="token punctuation">.</span>SCOPE_SINGLETON<span class="token punctuation">)</span>\u5355\u4F8B\u6A21\u5F0F\uFF0C\u5728\u6574\u4E2A\u5E94\u7528\u4E2D\u53EA\u80FD\u521B\u5EFA\u4E00\u4E2A\u5B9E\u4F8B

globalsession\u6A21\u5F0F\uFF1A
<span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token class-name">WebApplicationContext</span><span class="token punctuation">.</span>SCOPE_GLOBAL_SESSION<span class="token punctuation">)</span>\u5168\u5C40session\u4E2D\u7684\u4E00\u822C\u4E0D\u5E38\u7528

<span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token class-name">WebApplicationContext</span><span class="token punctuation">.</span>SCOPE_APPLICATION<span class="token punctuation">)</span>\u5728\u4E00\u4E2Aweb\u5E94\u7528\u4E2D\u53EA\u521B\u5EFA\u4E00\u4E2A\u5B9E\u4F8B

request\u6A21\u5F0F\uFF1A
<span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token class-name">WebApplicationContext</span><span class="token punctuation">.</span>SCOPE_REQUEST<span class="token punctuation">)</span>\u5728\u4E00\u4E2A\u8BF7\u6C42\u4E2D\u521B\u5EFA\u4E00\u4E2A\u5B9E\u4F8B

session\u6A21\u5F0F\uFF1A
<span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token class-name">WebApplicationContext</span><span class="token punctuation">.</span>SCOPE_SESSION<span class="token punctuation">)</span>\u6BCF\u6B21\u521B\u5EFA\u4E00\u4E2A\u4F1A\u8BDD\u4E2D\u521B\u5EFA\u4E00\u4E2A\u5B9E\u4F8B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> myConfig <span class="token punctuation">{</span>
    <span class="token comment">//\u9ED8\u8BA4\u662F\u5355\u4F8B\u7684\u3002\u4E0D\u9700\u8981\u7279\u522B\u8BF4\u660E</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Person</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;binghe002&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> myConfig <span class="token punctuation">{</span>
    <span class="token comment">//Person\u5BF9\u8C61\u7684\u4F5C\u7528\u57DF\u4FEE\u6539\u6210prototype,\u591A\u4F8B\u7684</span>
    <span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span><span class="token string">&quot;prototype&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Person</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;binghe002&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10\u3001-value" tabindex="-1"><a class="header-anchor" href="#_10\u3001-value" aria-hidden="true">#</a> 10\u3001@Value</h3><p>@Value\u7684\u4F5C\u7528\u662F\u901A\u8FC7\u6CE8\u89E3\u5C06\u5E38\u91CF\u3001\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u503C\u3001\u5176\u4ED6bean\u7684\u5C5E\u6027\u503C\u6CE8\u5165\u5230\u53D8\u91CF\u4E2D\uFF0C\u4F5C\u4E3A\u53D8\u91CF\u7684\u521D\u59CB\u503C\u3002</p><p>(1)\u3001\u666E\u901A\u6CE8\u5165</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F20\u4E09&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span> <span class="token comment">// \u6CE8\u5165\u666E\u901A\u5B57\u7B26\u4E32</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>(2)\u3001bean\u5C5E\u6027\u3001\u7CFB\u7EDF\u5C5E\u6027\u3001\u8868\u8FBE\u5F0F\u6CE8\u5165\uFF0C\u4F7F\u7528@Value(&quot;#{}&quot;)\u3002bean\u5C5E\u6027\u6CE8\u5165\u9700\u8981\u6CE8\u5165\u8005\u548C\u88AB\u6CE8\u5165\u8005\u5C5E\u4E8E\u540C\u4E00\u4E2AIOC\u5BB9\u5668\uFF0C\u6216\u8005\u7236\u5B50IOC\u5BB9\u5668\u5173\u7CFB\uFF0C\u5728\u540C\u4E00\u4E2A\u4F5C\u7528\u57DF\u5185\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u6CE8\u5165\u5176\u4ED6Bean\u5C5E\u6027\uFF1A\u6CE8\u5165beanInject\u5BF9\u8C61\u7684\u5C5E\u6027another\uFF0C\u7C7B\u5177\u4F53\u5B9A\u4E49\u89C1\u4E0B\u9762</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;#{beanInject.another}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> fromAnotherBean<span class="token punctuation">;</span>
<span class="token comment">// \u6CE8\u5165\u64CD\u4F5C\u7CFB\u7EDF\u5C5E\u6027</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;#{systemProperties[&#39;os.name&#39;]}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> systemPropertiesName<span class="token punctuation">;</span>
<span class="token comment">//\u6CE8\u5165\u8868\u8FBE\u5F0F\u7ED3\u679C</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;#{T(java.lang.Math).random() * 100.0 }&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">double</span> randomNumber<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uFF083\uFF09\u3001\u914D\u7F6E\u6587\u4EF6\u5C5E\u6027\u6CE8\u5165@Value(&quot;\${}&quot;)</p><p>@Value(&quot;#{}&quot;)\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u503C\uFF0C\u6CE8\u5165\u5230\u53D8\u91CF\u4E2D\u53BB\u3002\u914D\u7F6E\u6587\u4EF6\u5206\u4E3A\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6application.properties\u548C\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6\u3002</p><h3 id="_11\u3001-conditional" tabindex="-1"><a class="header-anchor" href="#_11\u3001-conditional" aria-hidden="true">#</a> 11\u3001@Conditional</h3><p>@Conditional\u6CE8\u89E3\u53EF\u4EE5\u63A7\u5236\u66F4\u4E3A\u590D\u6742\u7684\u914D\u7F6E\u6761\u4EF6\u3002\u5728Spring\u5185\u7F6E\u7684\u6761\u4EF6\u63A7\u5236\u6CE8\u89E3\u4E0D\u6EE1\u8DB3\u5E94\u7528\u9700\u6C42\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u4F7F\u7528\u6B64\u6CE8\u89E3\u5B9A\u4E49\u81EA\u5B9A\u4E49\u7684\u63A7\u5236\u6761\u4EF6\uFF0C\u4EE5\u8FBE\u5230\u81EA\u5B9A\u4E49\u7684\u8981\u6C42;</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Conditioanl</span><span class="token punctuation">(</span><span class="token class-name">CustomConditioanl</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token class-name">CustomProperties</span> <span class="token function">addCustomProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_11-1\u3001-conditionalonclass-conditionalonmissingclass" tabindex="-1"><a class="header-anchor" href="#_11-1\u3001-conditionalonclass-conditionalonmissingclass" aria-hidden="true">#</a> 11.1\u3001@ConditionalOnClass &amp; @ConditionalOnMissingClass</h4><p>\u8FD9\u4E24\u4E2A\u6CE8\u89E3\u5C5E\u4E8E\u7C7B\u6761\u4EF6\u6CE8\u89E3\uFF0C\u5B83\u4EEC\u6839\u636E\u662F\u5426\u5B58\u5728\u67D0\u4E2A\u7C7B\u4F5C\u4E3A\u5224\u65AD\u4F9D\u636E\u6765\u51B3\u5B9A\u662F\u5426\u8981\u6267\u884C\u67D0\u4E9B\u914D\u7F6E\uFF1B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ConditionalOnClass</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MySQLAutoConfiguration</span> <span class="token punctuation">{</span>
 <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_11-2\u3001-conditionalonbean-conditionalonmissingbean" tabindex="-1"><a class="header-anchor" href="#_11-2\u3001-conditionalonbean-conditionalonmissingbean" aria-hidden="true">#</a> 11.2\u3001@ConditionalOnBean &amp; @ConditionalOnMissingBean</h4><p>\u8FD9\u4E24\u4E2A\u6CE8\u89E3\u5C5E\u4E8E\u5BF9\u8C61\u6761\u4EF6\u6CE8\u89E3\uFF0C\u6839\u636E\u662F\u5426\u5B58\u5728\u67D0\u4E2A\u5BF9\u8C61\u4F5C\u4E3A\u4F9D\u636E\u6765\u51B3\u5B9A\u662F\u5426\u8981\u6267\u884C\u67D0\u4E9B\u914D\u7F6E\u65B9\u6CD5;</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@ConditionalOnBean</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;dataSource&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">LocalContainerEntityManagerFactoryBean</span> <span class="token function">entityManagerFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@ConditionalOnMissingBean</span>
<span class="token keyword">public</span> <span class="token class-name">MyBean</span> <span class="token function">myBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_11-3\u3001-conditionalonproperty" tabindex="-1"><a class="header-anchor" href="#_11-3\u3001-conditionalonproperty" aria-hidden="true">#</a> 11.3\u3001@ConditionalOnProperty</h4><p>@ConditionalOnProperty\u6CE8\u89E3\u4F1A\u6839\u636ESpring\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u914D\u7F6E\u9879\u662F\u5426\u6EE1\u8DB3\u914D\u7F6E\u8981\u6C42\uFF0C\u4ECE\u800C\u51B3\u5B9A\u662F\u5426\u8981\u6267\u884C\u88AB\u5176\u6807\u6CE8\u7684\u65B9\u6CD5\uFF1B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;alipay&quot;</span><span class="token punctuation">,</span>havingValue<span class="token operator">=</span><span class="token string">&quot;on&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Alipay</span> <span class="token function">alipay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Alipay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_11-4\u3001-conditionalonresource" tabindex="-1"><a class="header-anchor" href="#_11-4\u3001-conditionalonresource" aria-hidden="true">#</a> 11.4\u3001@ConditionalOnResource</h4><p>\u7528\u4E8E\u68C0\u6D4B\u5F53\u67D0\u4E2A\u914D\u7F6E\u6587\u4EF6\u5B58\u5728\uFF0C\u5B58\u5728\u5219\u89E6\u53D1\u88AB\u5176\u6807\u6CE8\u7684\u65B9\u6CD5\uFF1B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ConditionalOnResource</span><span class="token punctuation">(</span>resources <span class="token operator">=</span> <span class="token string">&quot;classpath:website.properties&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Properties</span> <span class="token function">addWebsiteProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_11-5\u3001-conditionalonwebapplication-conditionalonnotwebapplication" tabindex="-1"><a class="header-anchor" href="#_11-5\u3001-conditionalonwebapplication-conditionalonnotwebapplication" aria-hidden="true">#</a> 11.5\u3001@ConditionalOnWebApplication &amp; @ConditionalOnNotWebApplication</h4><p>\u8FD9\u4E24\u4E2A\u6CE8\u89E3\u7528\u4E8E\u5224\u65AD\u5F53\u524D\u7684\u5E94\u7528\u7A0B\u5E8F\u662F\u5426\u662FWeb\u5E94\u7528\u7A0B\u5E8F\u3002\u5982\u679C\u5F53\u524D\u5E94\u7528\u662FWeb\u5E94\u7528\u7A0B\u5E8F\uFF0C\u5219\u4F7F\u7528Spring WebApplicationContext,\u5E76\u5B9A\u4E49\u5176\u4F1A\u8BDD\u7684\u751F\u547D\u5468\u671F;</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ConditionalOnWebApplication</span>
<span class="token class-name">HealthCheckController</span> <span class="token function">healthCheckController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_11-6\u3001-conditionalexpression" tabindex="-1"><a class="header-anchor" href="#_11-6\u3001-conditionalexpression" aria-hidden="true">#</a> 11.6\u3001@ConditionalExpression</h4><p>\u6B64\u6CE8\u89E3\u53EF\u4EE5\u8BA9\u6211\u4EEC\u63A7\u5236\u66F4\u7EC6\u7C92\u5EA6\u7684\u57FA\u4E8E\u8868\u8FBE\u5F0F\u7684\u914D\u7F6E\u6761\u4EF6\u9650\u5236\u3002\u5F53\u8868\u8FBE\u5F0F\u6EE1\u8DB3\u67D0\u4E2A\u6761\u4EF6\u6216\u8005\u8868\u8FBE\u5F0F\u4E3A\u771F\u7684\u65F6\u5019\uFF0C\u5C06\u4F1A\u6267\u884C\u88AB\u6B64\u6CE8\u89E3\u6807\u6CE8\u7684\u65B9\u6CD5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@ConditionalException</span><span class="token punctuation">(</span><span class="token string">&quot;\${localstore} &amp;&amp; \${local == &#39;true&#39;}&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">LocalFileStore</span> <span class="token function">store</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12\u3001-postconstruct-predestroy" tabindex="-1"><a class="header-anchor" href="#_12\u3001-postconstruct-predestroy" aria-hidden="true">#</a> 12\u3001@PostConstruct &amp; @PreDestroy</h3><p>\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0C\u8FD9\u4E24\u4E2A\u6CE8\u89E3\u4E0D\u5C5E\u4E8ESpring,\u5B83\u4EEC\u662F\u6E90\u4E8EJSR-250\u4E2D\u7684\u4E24\u4E2A\u6CE8\u89E3\uFF0C\u4F4D\u4E8E<code>common-annotations.jar</code>\u4E2D\u3002@PostConstruct\u6CE8\u89E3\u7528\u4E8E\u6807\u6CE8\u5728Bean\u88ABSpring\u521D\u59CB\u5316\u4E4B\u524D\u9700\u8981\u6267\u884C\u7684\u65B9\u6CD5\u3002@PreDestroy\u6CE8\u89E3\u7528\u4E8E\u6807\u6CE8Bean\u88AB\u9500\u6BC1\u524D\u9700\u8981\u6267\u884C\u7684\u65B9\u6CD5\u3002</p><h2 id="\u4E8C\u3001\u5207\u9762-aop-\u76F8\u5173\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u4E8C\u3001\u5207\u9762-aop-\u76F8\u5173\u6CE8\u89E3" aria-hidden="true">#</a> \u4E8C\u3001\u5207\u9762\uFF08AOP\uFF09\u76F8\u5173\u6CE8\u89E3</h2><p>\u5728\u8FD0\u884C\u65F6\uFF0C\u52A8\u6001\u5730\u5C06\u4EE3\u7801\u5207\u5165\u5230\u7C7B\u7684\u6307\u5B9A\u65B9\u6CD5\u3001\u6307\u5B9A\u4F4D\u7F6E\u4E0A\u7684\u7F16\u7A0B\u601D\u60F3\u5C31\u662F\u9762\u5411\u5207\u9762\u7684\u7F16\u7A0B\uFF0C\u7B80\u79F0AOP\uFF08aspect object programming\uFF09\u3002AOP\u7F16\u7A0B\uFF0C\u53EF\u4EE5\u5C06\u4E00\u4E9B\u7CFB\u7EDF\u6027\u76F8\u5173\u7684\u7F16\u7A0B\u5DE5\u4F5C\uFF0C\u72EC\u7ACB\u63D0\u53D6\u51FA\u6765\uFF0C\u72EC\u7ACB\u5B9E\u73B0\uFF0C\u7136\u540E\u901A\u8FC7\u5207\u9762\u5207\u5165\u8FDB\u7CFB\u7EDF\u3002\u4ECE\u800C\u907F\u514D\u4E86\u5728\u4E1A\u52A1\u903B\u8F91\u7684\u4EE3\u7801\u4E2D\u6DF7\u5165\u5F88\u591A\u7684\u7CFB\u7EDF\u76F8\u5173\u7684\u903B\u8F91\u2014\u2014\u6BD4\u5982\u6743\u9650\u7BA1\u7406\uFF0C\u4E8B\u7269\u7BA1\u7406\uFF0C\u65E5\u5FD7\u8BB0\u5F55\u7B49\u7B49\u3002\u8FD9\u4E9B\u7CFB\u7EDF\u6027\u7684\u7F16\u7A0B\u5DE5\u4F5C\u90FD\u53EF\u4EE5\u72EC\u7ACB\u7F16\u7801\u5B9E\u73B0\uFF0C\u7136\u540E\u901A\u8FC7AOP\u6280\u672F\u5207\u5165\u8FDB\u7CFB\u7EDF\u5373\u53EF\u3002\u4ECE\u800C\u8FBE\u5230\u4E86 \u5C06\u4E0D\u540C\u7684\u5173\u6CE8\u70B9\u5206\u79BB\u51FA\u6765\u7684\u6548\u679C\u3002</p><p>aop\u6280\u672F\u7684\u529F\u80FD\u662F\u8BA9\u5173\u6CE8\u70B9\u4E0E\u4E1A\u52A1\u903B\u8F91\u4EE3\u7801\u8FDB\u884C\u5206\u79BB\uFF1B\u800C\u91CD\u590D\u7684\u4EE3\u7801\u5C31\u662F\u5173\u6CE8\u70B9\uFF1B\u5173\u6CE8\u70B9\u5F62\u6210\u7684\u7C7B\uFF0C\u5C31\u662F\u5207\u9762\uFF08\u7C7B\uFF09</p><p>Spring\u652F\u6301AspectJ\u7684\u6CE8\u89E3\u5F0Faop\u7F16\u7A0B\uFF0C\u9700\u8981\u5728java\u7684\u914D\u7F6E\u7C7B\u4E2D\u4F7F\u7528@EnableAspectJAutoProxy\u6CE8\u89E3\u5F00\u542FSpring\u5BF9AspectJ\u4EE3\u7406\u7684\u652F\u6301\u3002\u4E0B\u9762\u4ECB\u7ECD\u4E0Baop\u7F16\u7A0B\u7684\u76F8\u5173\u6CE8\u89E3\u3002</p><h3 id="_1\u3001-enableaspectjautoproxy" tabindex="-1"><a class="header-anchor" href="#_1\u3001-enableaspectjautoproxy" aria-hidden="true">#</a> 1\u3001@EnableAspectJAutoProxy</h3><p>\u5148\u8BF4\u8BF4@EnableAspectJAutoProxy\u6CE8\u89E3\uFF0C\u770B\u770B\u5B83\u7684\u6E90\u7801\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">AspectJAutoProxyRegistrar</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">EnableAspectJAutoProxy</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * Indicate whether subclass-based (CGLIB) proxies are to be created as opposed
     * to standard Java interface-based proxies. The default is <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token boolean">false</span></span></span><span class="token punctuation">}</span>.
     */</span>
    <span class="token keyword">boolean</span> <span class="token function">proxyTargetClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * Indicate that the proxy should be exposed by the AOP framework as a <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token class-name">ThreadLocal</span></span></span><span class="token punctuation">}</span>
     * for retrieval via the <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>aop<span class="token punctuation">.</span>framework<span class="token punctuation">.</span></span><span class="token class-name">AopContext</span></span><span class="token punctuation">}</span> class.
     * Off by default, i.e. no guarantees that <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token class-name">AopContext</span></span></span><span class="token punctuation">}</span> access will work.
     * <span class="token keyword">@since</span> 4.3.1
     */</span>
    <span class="token keyword">boolean</span> <span class="token function">exposeProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u91CC\u6709\u4E24\u4E2A\u65B9\u6CD5,\u4E00\u4E2A\u662F\u63A7\u5236aop\u7684\u5177\u4F53\u5B9E\u73B0\u65B9\u5F0F,\u4E3Atrue \u7684\u8BDD\u4F7F\u7528cglib,\u4E3Afalse\u7684\u8BDD\u4F7F\u7528java\u7684Proxy,\u9ED8\u8BA4\u4E3Afalse,\u7B2C\u4E8C\u4E2A\u53C2\u6570\u63A7\u5236\u4EE3\u7406\u7684\u66B4\u9732\u65B9\u5F0F,\u89E3\u51B3\u5185\u90E8\u8C03\u7528\u4E0D\u80FD\u4F7F\u7528\u4EE3\u7406\u7684\u573A\u666F\uFF0C\u9ED8\u8BA4\u4E3Afalse\u3002</p><h3 id="_2\u3001-aspect" tabindex="-1"><a class="header-anchor" href="#_2\u3001-aspect" aria-hidden="true">#</a> 2\u3001@Aspect</h3><p>\u58F0\u660E\u4E00\u4E2A\u5207\u9762\uFF08\u7C7B\uFF09\u4E0A\uFF0C\u4F5C\u7528\u662F\u628A\u5F53\u524D\u7C7B\u6807\u8BC6\u4E3A\u4E00\u4E2A\u5207\u9762\u4F9B\u5BB9\u5668\u8BFB\u53D6\u3002\u5728\u5207\u9762\u7C7B\u4E2D\u9700\u8981\u5B9A\u4E49\u5207\u9762\u65B9\u6CD5\u7528\u4E8E\u54CD\u5E94\u54CD\u5E94\u7684\u76EE\u6807\u65B9\u6CD5\uFF0C\u5207\u9762\u65B9\u6CD5\u5373\u4E3A\u901A\u77E5\u65B9\u6CD5\uFF0C\u901A\u77E5\u65B9\u6CD5\u9700\u8981\u7528\u6CE8\u89E3\u6807\u8BC6\uFF0CAspectJ \u652F\u6301 5 \u79CD\u7C7B\u578B\u7684\u901A\u77E5\u6CE8\u89E3:</p><h4 id="_2-1\u3001-before" tabindex="-1"><a class="header-anchor" href="#_2-1\u3001-before" aria-hidden="true">#</a> 2.1\u3001@Before</h4><p>\u524D\u7F6E\u901A\u77E5, \u5728\u65B9\u6CD5\u6267\u884C\u4E4B\u524D\u6267\u884C\u3002</p><h4 id="_2-2\u3001-after" tabindex="-1"><a class="header-anchor" href="#_2-2\u3001-after" aria-hidden="true">#</a> 2.2\u3001@After</h4><p>\u540E\u7F6E\u901A\u77E5, \u5728\u65B9\u6CD5\u6267\u884C\u4E4B\u540E\u6267\u884C\u3002</p><h4 id="_2-3\u3001-afterrunning" tabindex="-1"><a class="header-anchor" href="#_2-3\u3001-afterrunning" aria-hidden="true">#</a> 2.3\u3001@AfterRunning</h4><p>\u8FD4\u56DE\u901A\u77E5, \u5728\u65B9\u6CD5\u8FD4\u56DE\u7ED3\u679C\u4E4B\u540E\u6267\u884C\u3002</p><h4 id="_2-4\u3001-afterthrowing" tabindex="-1"><a class="header-anchor" href="#_2-4\u3001-afterthrowing" aria-hidden="true">#</a> 2.4\u3001@AfterThrowing</h4><p>\u5F02\u5E38\u901A\u77E5, \u5728\u65B9\u6CD5\u629B\u51FA\u5F02\u5E38\u4E4B\u540E\u3002</p><h4 id="_2-5\u3001-around" tabindex="-1"><a class="header-anchor" href="#_2-5\u3001-around" aria-hidden="true">#</a> 2.5\u3001@Around</h4><p>\u73AF\u7ED5\u901A\u77E5, \u56F4\u7ED5\u7740\u65B9\u6CD5\u6267\u884C\u3002</p><h3 id="_3\u3001-pointcut" tabindex="-1"><a class="header-anchor" href="#_3\u3001-pointcut" aria-hidden="true">#</a> 3\u3001@PointCut</h3><p>\u58F0\u660E\u5207\u70B9\uFF0C\u662F\u690D\u5165Advice\uFF08\u901A\u77E5\uFF09\u7684\u89E6\u53D1\u6761\u4EF6\u3002\u6BCF\u4E2APointcut\u7684\u5B9A\u4E49\u5305\u62EC2\u90E8\u5206\uFF0C\u4E00\u662F\u8868\u8FBE\u5F0F\uFF0C\u4E8C\u662F\u65B9\u6CD5\u7B7E\u540D\u3002\u65B9\u6CD5\u7B7E\u540D\u5FC5\u987B\u662F public\u53CAvoid\u578B\u3002\u53EF\u4EE5\u5C06Pointcut\u4E2D\u7684\u65B9\u6CD5\u770B\u4F5C\u662F\u4E00\u4E2A\u88ABAdvice\u5F15\u7528\u7684\u52A9\u8BB0\u7B26\uFF0C\u56E0\u4E3A\u8868\u8FBE\u5F0F\u4E0D\u76F4\u89C2\uFF0C\u56E0\u6B64\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u65B9\u6CD5\u7B7E\u540D\u7684\u65B9\u5F0F\u4E3A \u6B64\u8868\u8FBE\u5F0F\u547D\u540D\u3002\u56E0\u6B64Pointcut\u4E2D\u7684\u65B9\u6CD5\u53EA\u9700\u8981\u65B9\u6CD5\u7B7E\u540D\uFF0C\u800C\u4E0D\u9700\u8981\u5728\u65B9\u6CD5\u4F53\u5185\u7F16\u5199\u5B9E\u9645\u4EE3\u7801\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u65E5\u5FD7\u5207\u9762
 */</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Aspect</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoggingAspect</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * \u524D\u7F6E\u901A\u77E5\uFF1A\u76EE\u6807\u65B9\u6CD5\u6267\u884C\u4E4B\u524D\u6267\u884C\u4EE5\u4E0B\u65B9\u6CD5\u4F53\u7684\u5185\u5BB9
     */</span>
    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.qcc.beans.aop.*.*(..))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">beforeMethod</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> jp<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> jp<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u3010\u524D\u7F6E\u901A\u77E5\u3011the method \u3010&quot;</span> <span class="token operator">+</span> methodName <span class="token operator">+</span> <span class="token string">&quot;\u3011 begins with &quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>jp<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
     * \u8FD4\u56DE\u901A\u77E5\uFF1A\u76EE\u6807\u65B9\u6CD5\u6B63\u5E38\u6267\u884C\u5B8C\u6BD5\u65F6\u6267\u884C\u4EE5\u4E0B\u4EE3\u7801
     */</span>
    <span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;execution(* com.qcc.beans.aop.*.*(..))&quot;</span><span class="token punctuation">,</span>returning<span class="token operator">=</span><span class="token string">&quot;result&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterReturningMethod</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> jp<span class="token punctuation">,</span> <span class="token class-name">Object</span> result<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> jp<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u3010\u8FD4\u56DE\u901A\u77E5\u3011the method \u3010&quot;</span> <span class="token operator">+</span> methodName <span class="token operator">+</span> <span class="token string">&quot;\u3011 ends with \u3010&quot;</span> <span class="token operator">+</span> result <span class="token operator">+</span> <span class="token string">&quot;\u3011&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
     * \u540E\u7F6E\u901A\u77E5\uFF1A\u76EE\u6807\u65B9\u6CD5\u6267\u884C\u4E4B\u540E\u6267\u884C\u4EE5\u4E0B\u65B9\u6CD5\u4F53\u7684\u5185\u5BB9\uFF0C\u4E0D\u7BA1\u662F\u5426\u53D1\u751F\u5F02\u5E38\u3002
     * <span class="token keyword">@param</span> <span class="token parameter">jp</span>
     */</span>
    <span class="token annotation punctuation">@After</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.qcc.beans.aop.*.*(..))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterMethod</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> jp<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u3010\u540E\u7F6E\u901A\u77E5\u3011this is a afterMethod advice...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
     * \u5F02\u5E38\u901A\u77E5\uFF1A\u76EE\u6807\u65B9\u6CD5\u53D1\u751F\u5F02\u5E38\u7684\u65F6\u5019\u6267\u884C\u4EE5\u4E0B\u4EE3\u7801
     */</span>
    <span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;execution(* com.qcc.beans.aop.*.*(..))&quot;</span><span class="token punctuation">,</span>throwing<span class="token operator">=</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterThorwingMethod</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> jp<span class="token punctuation">,</span> <span class="token class-name">NullPointerException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> jp<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u3010\u5F02\u5E38\u901A\u77E5\u3011the method \u3010&quot;</span> <span class="token operator">+</span> methodName <span class="token operator">+</span> <span class="token string">&quot;\u3011 occurs exception: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4E09\u3001\u5168\u5C40\u5F02\u5E38\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u4E09\u3001\u5168\u5C40\u5F02\u5E38\u5904\u7406" aria-hidden="true">#</a> \u4E09\u3001\u5168\u5C40\u5F02\u5E38\u5904\u7406</h2><h3 id="_1\u3001-controlleradvice" tabindex="-1"><a class="header-anchor" href="#_1\u3001-controlleradvice" aria-hidden="true">#</a> 1\u3001@ControllerAdvice</h3><p>\u5305\u542B@Component\u3002\u53EF\u4EE5\u88AB\u626B\u63CF\u5230\u3002\u7EDF\u4E00\u5904\u7406\u5F02\u5E38\u3002</p><h3 id="_2\u3001-exceptionhandler-exception-class" tabindex="-1"><a class="header-anchor" href="#_2\u3001-exceptionhandler-exception-class" aria-hidden="true">#</a> 2\u3001@ExceptionHandler\uFF08Exception.class\uFF09</h3><p>\u7528\u5728\u65B9\u6CD5\u4E0A\u9762\u8868\u793A\u9047\u5230\u8FD9\u4E2A\u5F02\u5E38\u5C31\u6267\u884C\u4EE5\u4E0B\u65B9\u6CD5\u3002</p><p>\u5982\u4F55\u4F7F\u7528\u5462\uFF1F\u4E3E\u4E2A\u4F8B\u5B50\u3002\u5982\u679C\u65B9\u6CD5\u53C2\u6570\u4E0D\u5BF9\u7684\u8BDD\u5C31\u4F1A\u629B\u51FA<code>MethodArgumentNotValidException</code>\uFF0C\u6211\u4EEC\u6765\u5904\u7406\u8FD9\u4E2A\u5F02\u5E38\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalExceptionHandler</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u8BF7\u6C42\u53C2\u6570\u5F02\u5E38\u5904\u7406
     */</span>
    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">MethodArgumentNotValidException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">handleMethodArgumentNotValidException</span><span class="token punctuation">(</span><span class="token class-name">MethodArgumentNotValidException</span> ex<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u56DB\u3001jpa\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u56DB\u3001jpa\u6CE8\u89E3" aria-hidden="true">#</a> \u56DB\u3001JPA\u6CE8\u89E3</h2><h3 id="_1\u3001-entity" tabindex="-1"><a class="header-anchor" href="#_1\u3001-entity" aria-hidden="true">#</a> 1\u3001@Entity</h3><h3 id="_2\u3001-table-name" tabindex="-1"><a class="header-anchor" href="#_2\u3001-table-name" aria-hidden="true">#</a> 2\u3001@Table(name=\u201D\u201C)</h3><p>\u8868\u660E\u8FD9\u662F\u4E00\u4E2A\u5B9E\u4F53\u7C7B\u3002\u4E00\u822C\u7528\u4E8Ejpa\uFF0C\u8FD9\u4E24\u4E2A\u6CE8\u89E3\u4E00\u822C\u4E00\u5757\u4F7F\u7528\uFF0C\u4F46\u662F\u5982\u679C\u8868\u540D\u548C\u5B9E\u4F53\u7C7B\u540D\u76F8\u540C\u7684\u8BDD\uFF0C@Table\u53EF\u4EE5\u7701\u7565</p><h3 id="_3\u3001-mappedsuperclass" tabindex="-1"><a class="header-anchor" href="#_3\u3001-mappedsuperclass" aria-hidden="true">#</a> 3\u3001@MappedSuperClass</h3><p>\u7528\u5728\u786E\u5B9A\u662F\u7236\u7C7B\u7684entity\u4E0A\u3002\u7236\u7C7B\u7684\u5C5E\u6027\u5B50\u7C7B\u53EF\u4EE5\u7EE7\u627F\u3002</p><h3 id="_4\u3001-norepositorybean" tabindex="-1"><a class="header-anchor" href="#_4\u3001-norepositorybean" aria-hidden="true">#</a> 4\u3001@NoRepositoryBean</h3><p>\u4E00\u822C\u7528\u4F5C\u7236\u7C7B\u7684repository\uFF0C\u6709\u8FD9\u4E2A\u6CE8\u89E3\uFF0Cspring\u4E0D\u4F1A\u53BB\u5B9E\u4F8B\u5316\u8BE5repository\u3002</p><h3 id="_5\u3001-column" tabindex="-1"><a class="header-anchor" href="#_5\u3001-column" aria-hidden="true">#</a> 5\u3001@Column</h3><p>\u5982\u679C\u5B57\u6BB5\u540D\u4E0E\u5217\u540D\u76F8\u540C\uFF0C\u5219\u53EF\u4EE5\u7701\u7565\u3002</p><h3 id="_6\u3001-id" tabindex="-1"><a class="header-anchor" href="#_6\u3001-id" aria-hidden="true">#</a> 6\u3001@Id</h3><p>\u8868\u793A\u8BE5\u5C5E\u6027\u4E3A\u4E3B\u952E\u3002</p><h3 id="_7\u3001-generatedvalue-strategy-generationtype-sequence-generator-repair-seq" tabindex="-1"><a class="header-anchor" href="#_7\u3001-generatedvalue-strategy-generationtype-sequence-generator-repair-seq" aria-hidden="true">#</a> 7\u3001@GeneratedValue(strategy = GenerationType.SEQUENCE,generator = \u201Crepair_seq\u201D)</h3><p>\u8868\u793A\u4E3B\u952E\u751F\u6210\u7B56\u7565\u662Fsequence\uFF08\u53EF\u4EE5\u4E3AAuto\u3001IDENTITY\u3001native\u7B49\uFF0CAuto\u8868\u793A\u53EF\u5728\u591A\u4E2A\u6570\u636E\u5E93\u95F4\u5207\u6362\uFF09\uFF0C\u6307\u5B9Asequence\u7684\u540D\u5B57\u662Frepair_seq\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Id</span>
<span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>generator <span class="token operator">=</span> <span class="token string">&quot;IdentityIdGenerator&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@GenericGenerator</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;IdentityIdGenerator&quot;</span><span class="token punctuation">,</span> strategy <span class="token operator">=</span> <span class="token string">&quot;identity&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B49\u4EF7\u4E8E\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Id</span>
<span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8\u3001-sequencegeneretor-name-repair-seq-sequencename-seq-repair-allocationsize-1" tabindex="-1"><a class="header-anchor" href="#_8\u3001-sequencegeneretor-name-repair-seq-sequencename-seq-repair-allocationsize-1" aria-hidden="true">#</a> 8\u3001@SequenceGeneretor(name = \u201Crepair_seq\u201D, sequenceName = \u201Cseq_repair\u201D, allocationSize = 1)</h3><p>name\u4E3Asequence\u7684\u540D\u79F0\uFF0C\u4EE5\u4FBF\u4F7F\u7528\uFF0CsequenceName\u4E3A\u6570\u636E\u5E93\u7684sequence\u540D\u79F0\uFF0C\u4E24\u4E2A\u540D\u79F0\u53EF\u4EE5\u4E00\u81F4\u3002</p><p>jpa \u63D0\u4F9B\u7684\u4E3B\u952E\u751F\u6210\u7B56\u7565\u6709\u5982\u4E0B\u51E0\u79CD\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DefaultIdentifierGeneratorFactory</span>
  <span class="token keyword">implements</span> <span class="token class-name">MutableIdentifierGeneratorFactory</span><span class="token punctuation">,</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">ServiceRegistryAwareService</span> <span class="token punctuation">{</span>

 <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;deprecation&quot;</span><span class="token punctuation">)</span>
 <span class="token keyword">public</span> <span class="token class-name">DefaultIdentifierGeneratorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;uuid2&quot;</span><span class="token punctuation">,</span> <span class="token class-name">UUIDGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;guid&quot;</span><span class="token punctuation">,</span> <span class="token class-name">GUIDGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// can be done with UUIDGenerator + strategy</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;uuid&quot;</span><span class="token punctuation">,</span> <span class="token class-name">UUIDHexGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// &quot;deprecated&quot; for new use</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;uuid.hex&quot;</span><span class="token punctuation">,</span> <span class="token class-name">UUIDHexGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// uuid.hex is deprecated</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;assigned&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Assigned</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;identity&quot;</span><span class="token punctuation">,</span> <span class="token class-name">IdentityGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;select&quot;</span><span class="token punctuation">,</span> <span class="token class-name">SelectGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;sequence&quot;</span><span class="token punctuation">,</span> <span class="token class-name">SequenceStyleGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;seqhilo&quot;</span><span class="token punctuation">,</span> <span class="token class-name">SequenceHiLoGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;increment&quot;</span><span class="token punctuation">,</span> <span class="token class-name">IncrementGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;foreign&quot;</span><span class="token punctuation">,</span> <span class="token class-name">ForeignGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;sequence-identity&quot;</span><span class="token punctuation">,</span> <span class="token class-name">SequenceIdentityGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;enhanced-sequence&quot;</span><span class="token punctuation">,</span> <span class="token class-name">SequenceStyleGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">register</span><span class="token punctuation">(</span> <span class="token string">&quot;enhanced-table&quot;</span><span class="token punctuation">,</span> <span class="token class-name">TableGenerator</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">String</span> strategy<span class="token punctuation">,</span> <span class="token class-name">Class</span> generatorClass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  LOG<span class="token punctuation">.</span><span class="token function">debugf</span><span class="token punctuation">(</span> <span class="token string">&quot;Registering IdentifierGenerator strategy [%s] -&gt; [%s]&quot;</span><span class="token punctuation">,</span> strategy<span class="token punctuation">,</span> generatorClass<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Class</span> previous <span class="token operator">=</span> generatorStrategyToClassNameMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> strategy<span class="token punctuation">,</span> generatorClass <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span> previous <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
   LOG<span class="token punctuation">.</span><span class="token function">debugf</span><span class="token punctuation">(</span> <span class="token string">&quot;    - overriding [%s]&quot;</span><span class="token punctuation">,</span> previous<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9\u3001-transient" tabindex="-1"><a class="header-anchor" href="#_9\u3001-transient" aria-hidden="true">#</a> 9\u3001@Transient</h3><p>\u8868\u793A\u8BE5\u5C5E\u6027\u5E76\u975E\u4E00\u4E2A\u5230\u6570\u636E\u5E93\u8868\u7684\u5B57\u6BB5\u7684\u6620\u5C04,ORM\u6846\u67B6\u5C06\u5FFD\u7565\u8BE5\u5C5E\u6027\u3002</p><p>\u5982\u679C\u4E00\u4E2A\u5C5E\u6027\u5E76\u975E\u6570\u636E\u5E93\u8868\u7684\u5B57\u6BB5\u6620\u5C04,\u5C31\u52A1\u5FC5\u5C06\u5176\u6807\u793A\u4E3A@Transient,\u5426\u5219,ORM\u6846\u67B6\u9ED8\u8BA4\u5176\u6CE8\u89E3\u4E3A@Basic\u3002@Basic(fetch=FetchType.LAZY)\uFF1A\u6807\u8BB0\u53EF\u4EE5\u6307\u5B9A\u5B9E\u4F53\u5C5E\u6027\u7684\u52A0\u8F7D\u65B9\u5F0F</p><p>\u5982\u679C\u6211\u4EEC\u60F3\u8BA9<code>secrect</code> \u8FD9\u4E2A\u5B57\u6BB5\u4E0D\u88AB\u6301\u4E45\u5316\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>@Transient</code>\u5173\u952E\u5B57\u58F0\u660E\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Entity</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;USER&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token annotation punctuation">@Transient</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> secrect<span class="token punctuation">;</span> <span class="token comment">// not persistent because of @Transient</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9664\u4E86 <code>@Transient</code>\u5173\u952E\u5B57\u58F0\u660E\uFF0C \u8FD8\u53EF\u4EE5\u91C7\u7528\u4E0B\u9762\u51E0\u79CD\u65B9\u6CD5\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token class-name">String</span> secrect<span class="token punctuation">;</span> <span class="token comment">// not persistent because of static</span>
<span class="token keyword">final</span> <span class="token class-name">String</span> secrect <span class="token operator">=</span> \u201C<span class="token class-name">Satish</span>\u201D<span class="token punctuation">;</span> <span class="token comment">// not persistent because of final</span>
<span class="token keyword">transient</span> <span class="token class-name">String</span> secrect<span class="token punctuation">;</span> <span class="token comment">// not persistent because of transient</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E00\u822C\u4F7F\u7528\u6CE8\u89E3\u7684\u65B9\u5F0F\u6BD4\u8F83\u591A\u3002</p><h3 id="_10\u3001-jsonignore-jsonignoreproperties-jsonformat" tabindex="-1"><a class="header-anchor" href="#_10\u3001-jsonignore-jsonignoreproperties-jsonformat" aria-hidden="true">#</a> 10\u3001@JsonIgnore @JsonIgnoreProperties@JsonFormat</h3><p>@JsonIgnore\u4F5C\u7528\u662Fjson\u5E8F\u5217\u5316\u65F6\u5C06Javabean\u4E2D\u7684\u4E00\u4E9B\u5C5E\u6027\u5FFD\u7565\u6389,\u5E8F\u5217\u5316\u548C\u53CD\u5E8F\u5217\u5316\u90FD\u53D7\u5F71\u54CD\u3002</p><p><code>@JsonIgnoreProperties</code> \u4F5C\u7528\u5728\u7C7B\u4E0A\u7528\u4E8E\u8FC7\u6EE4\u6389\u7279\u5B9A\u5B57\u6BB5\u4E0D\u8FD4\u56DE\u6216\u8005\u4E0D\u89E3\u6790\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u751F\u6210json\u65F6\u5C06userRoles\u5C5E\u6027\u8FC7\u6EE4</span>
<span class="token annotation punctuation">@JsonIgnoreProperties</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;userRoles&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> fullName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@JsonIgnore</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserRole</span><span class="token punctuation">&gt;</span></span> userRoles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>@JsonFormat</code>\u4E00\u822C\u7528\u6765\u683C\u5F0F\u5316 json \u6570\u636E\u3002\uFF1A</p><p>\u6BD4\u5982\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token class-name">JsonFormat<span class="token punctuation">.</span>Shape</span><span class="token punctuation">.</span>STRING<span class="token punctuation">,</span> pattern<span class="token operator">=</span><span class="token string">&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;</span><span class="token punctuation">,</span> timezone<span class="token operator">=</span><span class="token string">&quot;GMT&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Date</span> date<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11\u3001-joincolumn-name-loginid" tabindex="-1"><a class="header-anchor" href="#_11\u3001-joincolumn-name-loginid" aria-hidden="true">#</a> 11\u3001@JoinColumn\uFF08name=\u201DloginId\u201D\uFF09</h3><p>\u4E00\u5BF9\u4E00\uFF1A\u672C\u8868\u4E2D\u6307\u5411\u53E6\u4E00\u4E2A\u8868\u7684\u5916\u952E\u3002\u4E00\u5BF9\u591A\uFF1A\u53E6\u4E00\u4E2A\u8868\u6307\u5411\u672C\u8868\u7684\u5916\u952E\u3002</p><h3 id="_12\u3001-onetoone\u3001-onetomany\u3001-manytoone" tabindex="-1"><a class="header-anchor" href="#_12\u3001-onetoone\u3001-onetomany\u3001-manytoone" aria-hidden="true">#</a> 12\u3001@OneToOne\u3001@OneToMany\u3001@ManyToOne</h3><p>\u5BF9\u5E94hibernate\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u4E00\u5BF9\u4E00\uFF0C\u4E00\u5BF9\u591A\uFF0C\u591A\u5BF9\u4E00\u3002</p><h3 id="_13\u3001-lob" tabindex="-1"><a class="header-anchor" href="#_13\u3001-lob" aria-hidden="true">#</a> 13\u3001@Lob</h3><p>\u58F0\u660E\u67D0\u4E2A\u5B57\u6BB5\u4E3A\u5927\u5B57\u6BB5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Lob</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> content<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u66F4\u8BE6\u7EC6\u7684\u58F0\u660E\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Lob</span>
<span class="token comment">//\u6307\u5B9A Lob \u7C7B\u578B\u6570\u636E\u7684\u83B7\u53D6\u7B56\u7565\uFF0C FetchType.EAGER \u8868\u793A\u975E\u5EF6\u8FDF \u52A0\u8F7D\uFF0C\u800C FetchType. LAZY \u8868\u793A\u5EF6\u8FDF\u52A0\u8F7D \uFF1B</span>
<span class="token annotation punctuation">@Basic</span><span class="token punctuation">(</span>fetch <span class="token operator">=</span> <span class="token class-name">FetchType</span><span class="token punctuation">.</span>EAGER<span class="token punctuation">)</span>
<span class="token comment">//columnDefinition \u5C5E\u6027\u6307\u5B9A\u6570\u636E\u8868\u5BF9\u5E94\u7684 Lob \u5B57\u6BB5\u7C7B\u578B</span>
<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;content&quot;</span><span class="token punctuation">,</span> columnDefinition <span class="token operator">=</span> <span class="token string">&quot;LONGTEXT NOT NULL&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> content<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14\u3001-enumerated" tabindex="-1"><a class="header-anchor" href="#_14\u3001-enumerated" aria-hidden="true">#</a> 14\u3001@Enumerated</h3><p>\u679A\u4E3E\u5B57\u6BB5\u8981\u7528\u6B64\u6CE8\u89E3\u4FEE\u9970\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Gender</span> <span class="token punctuation">{</span>
    <span class="token function">MALE</span><span class="token punctuation">(</span><span class="token string">&quot;\u7537\u6027&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">FEMALE</span><span class="token punctuation">(</span><span class="token string">&quot;\u5973\u6027&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> value<span class="token punctuation">;</span>
    <span class="token class-name">Gender</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span><span class="token punctuation">{</span>
        value<span class="token operator">=</span>str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;role&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Role</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Enumerated</span><span class="token punctuation">(</span><span class="token class-name">EnumType</span><span class="token punctuation">.</span>STRING<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Gender</span> gender<span class="token punctuation">;</span>
    \u7701\u7565getter<span class="token operator">/</span>setter<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6570\u636E\u5E93\u91CC\u9762\u5BF9\u5E94\u5B58\u50A8\u7684\u662F MAIL/FEMAIL\u3002</p><h3 id="_15\u3001-modifying" tabindex="-1"><a class="header-anchor" href="#_15\u3001-modifying" aria-hidden="true">#</a> 15\u3001@Modifying</h3><p>\u5220\u9664/\u4FEE\u6539\u6570\u636E\uFF0C<code>@Modifying</code> \u6CE8\u89E3\u63D0\u793A JPA \u8BE5\u64CD\u4F5C\u662F\u4FEE\u6539\u64CD\u4F5C,\u6CE8\u610F\u8FD8\u8981\u914D\u5408<code>@Transactional</code>\u6CE8\u89E3\u4F7F\u7528\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Modifying</span>
    <span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>rollbackFor <span class="token operator">=</span> <span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">deleteByUserName</span><span class="token punctuation">(</span><span class="token class-name">String</span> userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_16\u3001-enablejpaauditing" tabindex="-1"><a class="header-anchor" href="#_16\u3001-enablejpaauditing" aria-hidden="true">#</a> 16\u3001@EnableJpaAuditing</h3><p>\u5F00\u542F JPA \u5BA1\u8BA1\u529F\u80FD\u3002\u53EA\u8981\u7EE7\u627F\u4E86 <code>AbstractAuditBase</code>\u7684\u7C7B\u90FD\u4F1A\u9ED8\u8BA4\u52A0\u4E0A\u4E0B\u9762\u56DB\u4E2A\u5B57\u6BB5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@MappedSuperclass</span>
<span class="token annotation punctuation">@EntityListeners</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token class-name">AuditingEntityListener</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractAuditBase</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@CreatedDate</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>updatable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonIgnore</span>
    <span class="token keyword">private</span> <span class="token class-name">Instant</span> createdAt<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@LastModifiedDate</span>
    <span class="token annotation punctuation">@JsonIgnore</span>
    <span class="token keyword">private</span> <span class="token class-name">Instant</span> updatedAt<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@CreatedBy</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>updatable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonIgnore</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> createdBy<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@LastModifiedBy</span>
    <span class="token annotation punctuation">@JsonIgnore</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> updatedBy<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u5BF9\u5E94\u7684\u5BA1\u8BA1\u529F\u80FD\u5BF9\u5E94\u5730\u914D\u7F6E\u7C7B\u53EF\u80FD\u662F\u4E0B\u9762\u8FD9\u6837\u7684\uFF08Spring Security \u9879\u76EE\uFF09:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableJpaAuditing</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuditSecurityConfiguration</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token class-name">AuditorAware</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">auditorAware</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span><span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">SecurityContext</span><span class="token operator">::</span><span class="token function">getAuthentication</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Authentication</span><span class="token operator">::</span><span class="token function">isAuthenticated</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Authentication</span><span class="token operator">::</span><span class="token function">getName</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B80\u5355\u4ECB\u7ECD\u4E00\u4E0B\u4E0A\u9762\u8BBE\u8BA1\u5230\u7684\u4E00\u4E9B\u6CE8\u89E3\uFF1A</p><ol><li><code>@CreatedDate</code>: \u8868\u793A\u8BE5\u5B57\u6BB5\u4E3A\u521B\u5EFA\u65F6\u95F4\u65F6\u95F4\u5B57\u6BB5\uFF0C\u5728\u8FD9\u4E2A\u5B9E\u4F53\u88AB insert \u7684\u65F6\u5019\uFF0C\u4F1A\u8BBE\u7F6E\u503C</li><li><code>@CreatedBy</code> :\u8868\u793A\u8BE5\u5B57\u6BB5\u4E3A\u521B\u5EFA\u4EBA\uFF0C\u5728\u8FD9\u4E2A\u5B9E\u4F53\u88AB insert \u7684\u65F6\u5019\uFF0C\u4F1A\u8BBE\u7F6E\u503C <code>@LastModifiedDate</code>\u3001<code>@LastModifiedBy</code>\u540C\u7406\u3002</li></ol><h2 id="\u4E94\u3001\u4E8B\u52A1" tabindex="-1"><a class="header-anchor" href="#\u4E94\u3001\u4E8B\u52A1" aria-hidden="true">#</a> \u4E94\u3001\u4E8B\u52A1</h2><h3 id="_1\u3001-transactional" tabindex="-1"><a class="header-anchor" href="#_1\u3001-transactional" aria-hidden="true">#</a> 1\u3001@Transactional</h3><p>\u7B2C\u4E00\u6B65\uFF1A \u5728\u5165\u53E3\u5904\u589E\u52A0 @EnableTransactionManagement \u6CE8\u89E3</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>cm<span class="token punctuation">.</span>aps</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">EnableTransactionManagement</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableTransactionManagement</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApsApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ApsApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B2C\u4E8C\u6B65\u5C31\u662F\u5728Service\u7684\u7C7B\u91CC\u5199\u5904\u7406\u8FC7\u7A0B\uFF1B\u6CE8\u610F\u4E8B\u9879\u8BF7\u770B\u6CE8\u91CA</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>rollbackFor <span class="token operator">=</span> <span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>  <span class="token comment">//\u8FD9\u91CC\u56DE\u6EDA\u8FDB\u884C\u5B9A\u4E49</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Prdtv</span> prdtv<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">{</span>
    <span class="token comment">//\u6CE8\u610F\u5728\u8FD9\u91CC\u5904\u7406\u4E1A\u52A1\u65F6\uFF0C\u4E0D\u8981\u4F7F\u7528Try ...\u5F02\u5E38\u6355\u83B7\uFF0C\u5426\u5219\u4E0D\u56DE\u6EDA</span>
    <span class="token keyword">return</span> prdtvMapper<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>prdtv<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u77E5\u9053 Exception \u5206\u4E3A\u8FD0\u884C\u65F6\u5F02\u5E38 RuntimeException \u548C\u975E\u8FD0\u884C\u65F6\u5F02\u5E38\u3002\u5728<code>@Transactional</code>\u6CE8\u89E3\u4E2D\u5982\u679C\u4E0D\u914D\u7F6E<code>rollbackFor</code>\u5C5E\u6027,\u90A3\u4E48\u4E8B\u7269\u53EA\u4F1A\u5728\u9047\u5230<code>RuntimeException</code>\u7684\u65F6\u5019\u624D\u4F1A\u56DE\u6EDA,\u52A0\u4E0A<code>rollbackFor=Exception.class</code>,\u53EF\u4EE5\u8BA9\u4E8B\u7269\u5728\u9047\u5230\u975E\u8FD0\u884C\u65F6\u5F02\u5E38\u65F6\u4E5F\u56DE\u6EDA\u3002</p><p><code>@Transactional</code> \u6CE8\u89E3\u4E00\u822C\u7528\u5728\u53EF\u4EE5\u4F5C\u7528\u5728<code>\u7C7B</code>\u6216\u8005<code>\u65B9\u6CD5</code>\u4E0A\u3002</p><ul><li><strong>\u4F5C\u7528\u4E8E\u7C7B</strong>\uFF1A\u5F53\u628A<code>@Transactional \u6CE8\u89E3\u653E\u5728\u7C7B\u4E0A\u65F6\uFF0C\u8868\u793A\u6240\u6709\u8BE5\u7C7B\u7684</code>public \u65B9\u6CD5\u90FD\u914D\u7F6E\u76F8\u540C\u7684\u4E8B\u52A1\u5C5E\u6027\u4FE1\u606F\u3002</li><li><strong>\u4F5C\u7528\u4E8E\u65B9\u6CD5</strong>\uFF1A\u5F53\u7C7B\u914D\u7F6E\u4E86<code>@Transactional</code>\uFF0C\u65B9\u6CD5\u4E5F\u914D\u7F6E\u4E86<code>@Transactional</code>\uFF0C\u65B9\u6CD5\u7684\u4E8B\u52A1\u4F1A\u8986\u76D6\u7C7B\u7684\u4E8B\u52A1\u914D\u7F6E\u4FE1\u606F\u3002</li></ul><h2 id="\u516D\u3001lombok" tabindex="-1"><a class="header-anchor" href="#\u516D\u3001lombok" aria-hidden="true">#</a> \u516D\u3001Lombok</h2><h3 id="_1\u3001-slf4j" tabindex="-1"><a class="header-anchor" href="#_1\u3001-slf4j" aria-hidden="true">#</a> 1\u3001@Slf4j</h3><p>\u81EA\u52A8\u751F\u6210\u8BE5\u7C7B\u7684 log \u9759\u6001\u5E38\u91CF\uFF0C\u8981\u6253\u65E5\u5FD7\u5C31\u53EF\u4EE5\u76F4\u63A5\u6253\uFF0C\u4E0D\u7528\u518D\u624B\u52A8 new log \u9759\u6001\u5E38\u91CF\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> log <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2\u3001-setter" tabindex="-1"><a class="header-anchor" href="#_2\u3001-setter" aria-hidden="true">#</a> 2\u3001@Setter</h3><p>\u6CE8\u89E3\u5728\u5C5E\u6027\u4E0A\u3002\u4E3A\u5C5E\u6027\u63D0\u4F9B setting \u65B9\u6CD5\u3002</p><h3 id="_3\u3001-getter" tabindex="-1"><a class="header-anchor" href="#_3\u3001-getter" aria-hidden="true">#</a> 3\u3001@Getter</h3><p>\u6CE8\u89E3\u5728\u5C5E\u6027\u4E0A\u3002\u4E3A\u5C5E\u6027\u63D0\u4F9B getting \u65B9\u6CD5\u3002</p><h3 id="_4\u3001-data" tabindex="-1"><a class="header-anchor" href="#_4\u3001-data" aria-hidden="true">#</a> 4\u3001@Data</h3><p>\u6CE8\u89E3\u5728\u7C7B\u4E0A\u3002\u7B49\u540C\u4E8E\u6DFB\u52A0\u5982\u4E0B\u6CE8\u89E3\uFF1A</p><ul><li>@Getter/@Setter</li><li>@ToString</li><li>@EqualsAndHashCode</li><li>@RequiredArgsConstructor</li></ul><h3 id="_5\u3001-log4j2" tabindex="-1"><a class="header-anchor" href="#_5\u3001-log4j2" aria-hidden="true">#</a> 5\u3001@Log4j2</h3><p>\u6CE8\u89E3\u5728\u7C7B\u4E0A\u3002\u4E3A\u7C7B\u63D0\u4F9B\u4E00\u4E2A \u5C5E\u6027\u540D\u4E3Alog \u7684 log4j \u65E5\u5FD7\u5BF9\u8C61\uFF0C\u548C@Log4j\u6CE8\u89E3\u7C7B\u4F3C\u3002</p><h3 id="_6\u3001-equalsandhashcode" tabindex="-1"><a class="header-anchor" href="#_6\u3001-equalsandhashcode" aria-hidden="true">#</a> 6\u3001@EqualsAndHashCode</h3><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u4F1A\u4F7F\u7528\u6240\u6709\u975E\u77AC\u6001(non-transient)\u548C\u975E\u9759\u6001(non-static)\u5B57\u6BB5\u6765\u751F\u6210equals\u548Chascode\u65B9\u6CD5\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5177\u4F53\u4F7F\u7528\u54EA\u4E9B\u5C5E\u6027\u3002</p><p>\u5982\u679C\u67D0\u4E9B\u53D8\u91CF\u4E0D\u60F3\u8981\u52A0\u8FDB\u5224\u65AD\uFF0C\u53EF\u4EE5\u900F\u8FC7 exclude \u6392\u9664\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528 of \u6307\u5B9A\u67D0\u4E9B\u5B57\u6BB5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token punctuation">(</span>exclude <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7\u3001-tostring" tabindex="-1"><a class="header-anchor" href="#_7\u3001-tostring" aria-hidden="true">#</a> 7\u3001@ToString</h3><p>\u751F\u6210toString\u65B9\u6CD5\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u4F1A\u8F93\u51FA\u7C7B\u540D\u3001\u6240\u6709\u5C5E\u6027\uFF0C\u5C5E\u6027\u4F1A\u6309\u7167\u987A\u5E8F\u8F93\u51FA\uFF0C\u4EE5\u9017\u53F7\u5206\u5272\u3002</p><h3 id="_8\u3001-noargsconstructor-requiredargsconstructor-and-allargsconstructor" tabindex="-1"><a class="header-anchor" href="#_8\u3001-noargsconstructor-requiredargsconstructor-and-allargsconstructor" aria-hidden="true">#</a> 8\u3001@NoArgsConstructor, @RequiredArgsConstructor and @AllArgsConstructor</h3><p>\u65E0\u53C2\u6784\u9020\u5668\u3001\u90E8\u5206\u53C2\u6570\u6784\u9020\u5668\u3001\u5168\u53C2\u6784\u9020\u5668\uFF0C\u5F53\u6211\u4EEC\u9700\u8981\u91CD\u8F7D\u591A\u4E2A\u6784\u9020\u5668\u7684\u65F6\u5019\uFF0C\u53EA\u80FD\u81EA\u5DF1\u624B\u5199\u4E86\u3002</p><h4 id="_8-1\u3001-noargsconstructor" tabindex="-1"><a class="header-anchor" href="#_8-1\u3001-noargsconstructor" aria-hidden="true">#</a> 8.1\u3001@NoArgsConstructor</h4><p>\u6CE8\u89E3\u5728\u7C7B\u4E0A\u3002\u4E3A\u7C7B\u63D0\u4F9B\u4E00\u4E2A\u65E0\u53C2\u7684\u6784\u9020\u65B9\u6CD5\u3002</p><h4 id="_8-2\u3001-allargsconstructor" tabindex="-1"><a class="header-anchor" href="#_8-2\u3001-allargsconstructor" aria-hidden="true">#</a> 8.2\u3001@AllArgsConstructor</h4><p>\u6CE8\u89E3\u5728\u7C7B\u4E0A\u3002\u4E3A\u7C7B\u63D0\u4F9B\u4E00\u4E2A\u5168\u53C2\u7684\u6784\u9020\u65B9\u6CD5\u3002</p><h4 id="_8-3\u3001-requiredargsconstructor" tabindex="-1"><a class="header-anchor" href="#_8-3\u3001-requiredargsconstructor" aria-hidden="true">#</a> 8.3\u3001@RequiredArgsConstructor</h4><p>\u751F\u6210\u4E00\u4E2A\u5305\u542B &quot;\u7279\u5B9A\u53C2\u6570&quot; \u7684\u6784\u9020\u5668\uFF0C\u7279\u5B9A\u53C2\u6570\u6307\u7684\u662F\u90A3\u4E9B\u6709\u52A0\u4E0A final \u4FEE\u9970\u8BCD\u7684\u53D8\u91CF\u3002</p><h3 id="_9\u3001-nonnull" tabindex="-1"><a class="header-anchor" href="#_9\u3001-nonnull" aria-hidden="true">#</a> 9\u3001@NonNull</h3><p>\u6CE8\u89E3\u5728\u5C5E\u6027\u4E0A\uFF0C\u5982\u679C\u6CE8\u89E3\u4E86\uFF0C\u5C31\u5FC5\u987B\u4E0D\u80FD\u4E3ANull\u3002</p><h3 id="_10\u3001-nullable" tabindex="-1"><a class="header-anchor" href="#_10\u3001-nullable" aria-hidden="true">#</a> 10\u3001@Nullable</h3><p>\u6CE8\u89E3\u5728\u5C5E\u6027\u4E0A\uFF0C\u5982\u679C\u6CE8\u89E3\u4E86\uFF0C\u5C31\u5FC5\u987B\u53EF\u4EE5\u4E3ANull\u3002</p><h3 id="_11\u3001-value" tabindex="-1"><a class="header-anchor" href="#_11\u3001-value" aria-hidden="true">#</a> 11\u3001@Value</h3><p>\u4E5F\u662F\u6574\u5408\u5305\uFF0C\u4F46\u662F\u4ED6\u4F1A\u628A\u6240\u6709\u7684\u53D8\u91CF\u90FD\u8BBE\u6210 final \u7684\uFF0C\u5176\u4ED6\u7684\u5C31\u8DDF @Data \u4E00\u6837\uFF0C\u7B49\u4E8E\u540C\u65F6\u52A0\u4E86\u4EE5\u4E0B\u6CE8\u89E3\uFF1A</p><ul><li>@Getter (\u6CE8\u610F\u6CA1\u6709setter)</li><li>@ToString</li><li>@EqualsAndHashCode</li><li>@RequiredArgsConstructor</li></ul><h3 id="_12\u3001-builder" tabindex="-1"><a class="header-anchor" href="#_12\u3001-builder" aria-hidden="true">#</a> 12\u3001@Builder</h3><p>\u81EA\u52A8\u751F\u6210\u6D41\u5F0F set \u503C\u5199\u6CD5\uFF0C\u4ECE\u6B64\u4E4B\u540E\u518D\u4E5F\u4E0D\u7528\u5199\u4E00\u5806 setter \u4E86\u3002</p><p>\u6CE8\u610F\uFF0C\u867D\u7136\u53EA\u8981\u52A0\u4E0A @Builder \u6CE8\u89E3\uFF0C\u6211\u4EEC\u5C31\u80FD\u591F\u7528\u6D41\u5F0F\u5199\u6CD5\u5FEB\u901F\u8BBE\u5B9A\u5BF9\u8C61\u7684\u503C\uFF0C\u4F46\u662F setter \u8FD8\u662F\u5FC5\u987B\u8981\u5199\u4E0D\u80FD\u7701\u7565\u7684\uFF0C\u56E0\u4E3A Spring \u6216\u662F\u5176\u4ED6\u6846\u67B6\u6709\u5F88\u591A\u5730\u65B9\u90FD\u4F1A\u7528\u5230\u5BF9\u8C61\u7684 getter/setter \u5BF9\u4ED6\u4EEC\u53D6\u503C/\u8D4B\u503C\u3002</p><p>\u6240\u4EE5\u901A\u5E38\u662F @Data \u548C @Builder \u4F1A\u4E00\u8D77\u7528\u5728\u540C\u4E2A\u7C7B\u4E0A\uFF0C\u65E2\u65B9\u4FBF\u6211\u4EEC\u6D41\u5F0F\u5199\u4EE3\u7801\uFF0C\u4E5F\u65B9\u4FBF\u6846\u67B6\u505A\u4E8B\u3002</p><h2 id="\u4E03\u3001\u53C2\u6570\u68C0\u9A8C" tabindex="-1"><a class="header-anchor" href="#\u4E03\u3001\u53C2\u6570\u68C0\u9A8C" aria-hidden="true">#</a> \u4E03\u3001\u53C2\u6570\u68C0\u9A8C</h2><p>\u6570\u636E\u7684\u6821\u9A8C\u7684\u91CD\u8981\u6027\u5C31\u4E0D\u7528\u8BF4\u4E86\uFF0C\u5373\u4F7F\u5728\u524D\u7AEF\u5BF9\u6570\u636E\u8FDB\u884C\u6821\u9A8C\u7684\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u8FD8\u662F\u8981\u5BF9\u4F20\u5165\u540E\u7AEF\u7684\u6570\u636E\u518D\u8FDB\u884C\u4E00\u904D\u6821\u9A8C\uFF0C\u907F\u514D\u7528\u6237\u7ED5\u8FC7\u6D4F\u89C8\u5668\u76F4\u63A5\u901A\u8FC7\u4E00\u4E9B HTTP \u5DE5\u5177\u76F4\u63A5\u5411\u540E\u7AEF\u8BF7\u6C42\u4E00\u4E9B\u8FDD\u6CD5\u6570\u636E\u3002</p><p><strong>JSR(Java Specification Requests\uFF09</strong> \u662F\u4E00\u5957 JavaBean \u53C2\u6570\u6821\u9A8C\u7684\u6807\u51C6\uFF0C\u5B83\u5B9A\u4E49\u4E86\u5F88\u591A\u5E38\u7528\u7684\u6821\u9A8C\u6CE8\u89E3\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u5C06\u8FD9\u4E9B\u6CE8\u89E3\u52A0\u5728\u6211\u4EEC JavaBean \u7684\u5C5E\u6027\u4E0A\u9762\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u5728\u9700\u8981\u6821\u9A8C\u7684\u65F6\u5019\u8FDB\u884C\u6821\u9A8C\u4E86\uFF0C\u975E\u5E38\u65B9\u4FBF\uFF01</p><p>\u6821\u9A8C\u7684\u65F6\u5019\u6211\u4EEC\u5B9E\u9645\u7528\u7684\u662F <strong>Hibernate Validator</strong> \u6846\u67B6\u3002Hibernate Validator \u662F Hibernate \u56E2\u961F\u6700\u521D\u7684\u6570\u636E\u6821\u9A8C\u6846\u67B6\uFF0CHibernate Validator 4.x \u662F Bean Validation 1.0\uFF08JSR 303\uFF09\u7684\u53C2\u8003\u5B9E\u73B0\uFF0CHibernate Validator 5.x \u662F Bean Validation 1.1\uFF08JSR 349\uFF09\u7684\u53C2\u8003\u5B9E\u73B0\uFF0C\u76EE\u524D\u6700\u65B0\u7248\u7684 Hibernate Validator 6.x \u662F Bean Validation 2.0\uFF08JSR 380\uFF09\u7684\u53C2\u8003\u5B9E\u73B0\u3002</p><p>SpringBoot \u9879\u76EE\u7684 spring-boot-starter-web \u4F9D\u8D56\u4E2D\u5DF2\u7ECF\u6709 hibernate-validator\u5305\uFF0C\u4E0D\u9700\u8981\u5F15\u7528\u76F8\u5173\u4F9D\u8D56</p><p>\u975E SpringBoot \u9879\u76EE\u9700\u8981\u81EA\u884C\u5F15\u5165\u76F8\u5173\u4F9D\u8D56\u5305\uFF0C\u8FD9\u91CC\u4E0D\u591A\u505A\u8BB2\u89E3\u3002</p><p>\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF1A \u6240\u6709\u7684\u6CE8\u89E3\uFF0C\u63A8\u8350\u4F7F\u7528 JSR \u6CE8\u89E3\uFF0C\u5373<code>javax.validation.constraints</code>\uFF0C\u800C\u4E0D\u662F<code>org.hibernate.validator.constraints</code></p><h3 id="_1\u3001-\u4E00\u4E9B\u5E38\u7528\u7684\u5B57\u6BB5\u9A8C\u8BC1\u7684\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#_1\u3001-\u4E00\u4E9B\u5E38\u7528\u7684\u5B57\u6BB5\u9A8C\u8BC1\u7684\u6CE8\u89E3" aria-hidden="true">#</a> 1\u3001 \u4E00\u4E9B\u5E38\u7528\u7684\u5B57\u6BB5\u9A8C\u8BC1\u7684\u6CE8\u89E3</h3><ul><li><code>@NotEmpty</code> \u88AB\u6CE8\u91CA\u7684\u5B57\u7B26\u4E32\u7684\u4E0D\u80FD\u4E3A null \u4E5F\u4E0D\u80FD\u4E3A\u7A7A</li><li><code>@NotBlank</code> \u88AB\u6CE8\u91CA\u7684\u5B57\u7B26\u4E32\u975E null\uFF0C\u5E76\u4E14\u5FC5\u987B\u5305\u542B\u4E00\u4E2A\u975E\u7A7A\u767D\u5B57\u7B26</li><li><code>@Null</code> \u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u4E3A null</li><li><code>@NotNull</code> \u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u4E0D\u4E3A null</li><li><code>@AssertTrue</code> \u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u4E3A true</li><li><code>@AssertFalse</code> \u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u4E3A false</li><li><code>@Pattern(regex=,flag=)</code>\u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u7B26\u5408\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F</li><li><code>@Email</code> \u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u662F Email \u683C\u5F0F\u3002</li><li><code>@Min(value)</code>\u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u5B57\uFF0C\u5176\u503C\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E\u6307\u5B9A\u7684\u6700\u5C0F\u503C</li><li><code>@Max(value)</code>\u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u5B57\uFF0C\u5176\u503C\u5FC5\u987B\u5C0F\u4E8E\u7B49\u4E8E\u6307\u5B9A\u7684\u6700\u5927\u503C</li><li><code>@DecimalMin(value)</code>\u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u5B57\uFF0C\u5176\u503C\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E\u6307\u5B9A\u7684\u6700\u5C0F\u503C</li><li><code>@DecimalMax(value)</code> \u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u5B57\uFF0C\u5176\u503C\u5FC5\u987B\u5C0F\u4E8E\u7B49\u4E8E\u6307\u5B9A\u7684\u6700\u5927\u503C</li><li><code>@Size(max=, min=)</code>\u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u7684\u5927\u5C0F\u5FC5\u987B\u5728\u6307\u5B9A\u7684\u8303\u56F4\u5185</li><li><code>@Digits (integer, fraction)</code>\u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u5B57\uFF0C\u5176\u503C\u5FC5\u987B\u5728\u53EF\u63A5\u53D7\u7684\u8303\u56F4\u5185</li><li><code>@Past</code>\u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u662F\u4E00\u4E2A\u8FC7\u53BB\u7684\u65E5\u671F</li><li><code>@Future</code> \u88AB\u6CE8\u91CA\u7684\u5143\u7D20\u5FC5\u987B\u662F\u4E00\u4E2A\u5C06\u6765\u7684\u65E5\u671F</li><li>......</li></ul><h3 id="_2\u3001-\u9A8C\u8BC1\u8BF7\u6C42\u4F53-requestbody" tabindex="-1"><a class="header-anchor" href="#_2\u3001-\u9A8C\u8BC1\u8BF7\u6C42\u4F53-requestbody" aria-hidden="true">#</a> 2\u3001 \u9A8C\u8BC1\u8BF7\u6C42\u4F53(RequestBody)</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@NotNull</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;classId \u4E0D\u80FD\u4E3A\u7A7A&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> classId<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Size</span><span class="token punctuation">(</span>max <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@NotNull</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;name \u4E0D\u80FD\u4E3A\u7A7A&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Pattern</span><span class="token punctuation">(</span>regexp <span class="token operator">=</span> <span class="token string">&quot;((^Man$|^Woman$|^UGM$))&quot;</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">&quot;sex \u503C\u4E0D\u5728\u53EF\u9009\u8303\u56F4&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@NotNull</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;sex \u4E0D\u80FD\u4E3A\u7A7A&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> sex<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Email</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;email \u683C\u5F0F\u4E0D\u6B63\u786E&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@NotNull</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;email \u4E0D\u80FD\u4E3A\u7A7A&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u5728\u9700\u8981\u9A8C\u8BC1\u7684\u53C2\u6570\u4E0A\u52A0\u4E0A\u4E86<code>@Valid</code>\u6CE8\u89E3\uFF0C\u5982\u679C\u9A8C\u8BC1\u5931\u8D25\uFF0C\u5B83\u5C06\u629B\u51FA<code>MethodArgumentNotValidException</code>\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/api&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/person&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token annotation punctuation">@Valid</span> <span class="token class-name">Person</span> person<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3\u3001-\u9A8C\u8BC1\u8BF7\u6C42\u53C2\u6570-path-variables-\u548C-request-parameters" tabindex="-1"><a class="header-anchor" href="#_3\u3001-\u9A8C\u8BC1\u8BF7\u6C42\u53C2\u6570-path-variables-\u548C-request-parameters" aria-hidden="true">#</a> 3\u3001 \u9A8C\u8BC1\u8BF7\u6C42\u53C2\u6570(Path Variables \u548C Request Parameters)</h3><p>\u4E00\u5B9A\u4E00\u5B9A\u4E0D\u8981\u5FD8\u8BB0\u5728\u7C7B\u4E0A\u52A0\u4E0A <code>Validated</code> \u6CE8\u89E3\u4E86\uFF0C\u8FD9\u4E2A\u53C2\u6570\u53EF\u4EE5\u544A\u8BC9 Spring \u53BB\u6821\u9A8C\u65B9\u6CD5\u53C2\u6570\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/api&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Validated</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/person/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">getPersonByID</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Valid</span> <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token annotation punctuation">@Max</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>message <span class="token operator">=</span> <span class="token string">&quot;\u8D85\u8FC7 id \u7684\u8303\u56F4\u4E86&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u516B\u3001-springmvc\u76F8\u5173\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#\u516B\u3001-springmvc\u76F8\u5173\u6CE8\u89E3" aria-hidden="true">#</a> \u516B\u3001 <strong>springMVC\u76F8\u5173\u6CE8\u89E3</strong></h2><h3 id="_1\u3001-restcontroller" tabindex="-1"><a class="header-anchor" href="#_1\u3001-restcontroller" aria-hidden="true">#</a> 1\u3001@RestController</h3><p>Spring4\uFF0C\u6CE8\u89E3\u662F@Controller\u548C@ResponseBody\u7684\u5408\u96C6,\u8868\u793A\u8FD9\u662F\u4E2A\u63A7\u5236\u5668bean,\u5E76\u4E14\u662F\u5C06\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u76F4 \u63A5\u586B\u5165HTTP\u54CD\u5E94\u4F53\u4E2D,\u662FREST\u98CE\u683C\u7684\u63A7\u5236\u5668\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>\u201C<span class="token operator">/</span>demoInfo2\u201D<span class="token punctuation">)</span>
publicclass <span class="token class-name">DemoController2</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2\u3001-controller" tabindex="-1"><a class="header-anchor" href="#_2\u3001-controller" aria-hidden="true">#</a> 2\u3001@Controller</h3><p>\u5728SpringMVC \u4E2D\uFF0C\u63A7\u5236\u5668Controller \u8D1F\u8D23\u5904\u7406\u7531DispatcherServlet \u5206\u53D1\u7684\u8BF7\u6C42\uFF0C\u5B83\u628A\u7528\u6237\u8BF7\u6C42\u7684\u6570\u636E\u7ECF\u8FC7\u4E1A\u52A1\u5904\u7406\u5C42\u5904\u7406\u4E4B\u540E\u5C01\u88C5\u6210\u4E00\u4E2AModel \uFF0C\u7136\u540E\u518D\u628A\u8BE5Model \u8FD4\u56DE\u7ED9\u5BF9\u5E94\u7684View \u8FDB\u884C\u5C55\u793A\u3002\u5728SpringMVC \u4E2D\u63D0\u4F9B\u4E86\u4E00\u4E2A\u975E\u5E38\u7B80\u4FBF\u7684\u5B9A\u4E49Controller \u7684\u65B9\u6CD5\uFF0C\u4F60\u65E0\u9700\u7EE7\u627F\u7279\u5B9A\u7684\u7C7B\u6216\u5B9E\u73B0\u7279\u5B9A\u7684\u63A5\u53E3\uFF0C\u53EA\u9700\u4F7F\u7528@Controller \u6807\u8BB0\u4E00\u4E2A\u7C7B\u662FController \uFF0C\u7136\u540E\u4F7F\u7528@RequestMapping \u548C@RequestParam \u7B49\u4E00\u4E9B\u6CE8\u89E3\u7528\u4EE5\u5B9A\u4E49URL \u8BF7\u6C42\u548CController \u65B9\u6CD5\u4E4B\u95F4\u7684\u6620\u5C04\uFF0C\u8FD9\u6837\u7684Controller \u5C31\u80FD\u88AB\u5916\u754C\u8BBF\u95EE\u5230\u3002\u6B64\u5916Controller \u4E0D\u4F1A\u76F4\u63A5\u4F9D\u8D56\u4E8EHttpServletRequest \u548CHttpServletResponse \u7B49HttpServlet \u5BF9\u8C61\uFF0C\u5B83\u4EEC\u53EF\u4EE5\u901A\u8FC7Controller \u7684\u65B9\u6CD5\u53C2\u6570\u7075\u6D3B\u7684\u83B7\u53D6\u5230\u3002</p><p>\u7528\u4E8E\u5B9A\u4E49\u63A7\u5236\u5668\u7C7B\uFF0C\u5728spring \u9879\u76EE\u4E2D\u7531\u63A7\u5236\u5668\u8D1F\u8D23\u5C06\u7528\u6237\u53D1\u6765\u7684URL\u8BF7\u6C42\u8F6C\u53D1\u5230\u5BF9\u5E94\u7684\u670D\u52A1\u63A5\u53E3\uFF08service\u5C42\uFF09\uFF0C\u4E00\u822C\u8FD9\u4E2A\u6CE8\u89E3\u5728\u7C7B\u4E2D\uFF0C\u901A\u5E38\u65B9\u6CD5\u9700\u8981\u914D\u5408\u6CE8\u89E3@RequestMapping\u3002\u793A\u4F8B\u4EE3\u7801\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>\u201C<span class="token operator">/</span>demoInfo\u201D<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">DemoInfoService</span> demoInfoService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;DemoController.hello()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;from TemplateController.helloHtml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">//\u4F1A\u4F7F\u7528hello.html\u6216\u8005hello.ftl\u6A21\u677F\u8FDB\u884C\u6E32\u67D3\u663E\u793A.</span>
       <span class="token keyword">return</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3\u3001-requestmapping" tabindex="-1"><a class="header-anchor" href="#_3\u3001-requestmapping" aria-hidden="true">#</a> 3\u3001@RequestMapping</h3><p>\u63D0\u4F9B\u8DEF\u7531\u4FE1\u606F\uFF0C\u662F\u4E00\u4E2A\u7528\u6765\u5904\u7406\u8BF7\u6C42\u5730\u5740\u6620\u5C04\u7684\u6CE8\u89E3\uFF0C\u53EF\u7528\u4E8E\u7C7B\u6216\u65B9\u6CD5\u4E0A\u3002\u7528\u4E8E\u7C7B\u4E0A\uFF0C\u8868\u793A\u7C7B\u4E2D\u7684\u6240\u6709\u54CD\u5E94\u8BF7\u6C42\u7684\u65B9\u6CD5\u90FD\u662F\u4EE5\u8BE5\u5730\u5740\u4F5C\u4E3A\u7236\u8DEF\u5F84\u3002</p><p>RequestMapping\u6CE8\u89E3\u6709\u516D\u4E2A\u5C5E\u6027\uFF0C\u4E0B\u9762\u6211\u4EEC\u628A\u5979\u5206\u6210\u4E09\u7C7B\u8FDB\u884C\u8BF4\u660E\uFF08\u4E0B\u9762\u6709\u76F8\u5E94\u793A\u4F8B\uFF09\u3002</p><p>1\u3001 value\uFF0C method\uFF1B</p><ul><li><p>value\uFF1A \u6307\u5B9A\u8BF7\u6C42\u7684\u5B9E\u9645\u5730\u5740\uFF0C\u6307\u5B9A\u7684\u5730\u5740\u53EF\u4EE5\u662FURI Template \u6A21\u5F0F\uFF08\u540E\u9762\u5C06\u4F1A\u8BF4\u660E\uFF09\uFF1B</p></li><li><p>method\uFF1A \u6307\u5B9A\u8BF7\u6C42\u7684method\u7C7B\u578B\uFF0C GET\u3001POST\u3001PUT\u3001DELETE\u7B49\uFF1B</p></li></ul><p>2\u3001consumes\uFF0Cproduces</p><ul><li><p>consumes\uFF1A \u6307\u5B9A\u5904\u7406\u8BF7\u6C42\u7684\u63D0\u4EA4\u5185\u5BB9\u7C7B\u578B\uFF08Content-Type\uFF09\uFF0C\u4F8B\u5982application/json, text/html;</p></li><li><p>produces: \u6307\u5B9A\u8FD4\u56DE\u7684\u5185\u5BB9\u7C7B\u578B\uFF0C\u4EC5\u5F53request\u8BF7\u6C42\u5934\u4E2D\u7684(Accept)\u7C7B\u578B\u4E2D\u5305\u542B\u8BE5\u6307\u5B9A\u7C7B\u578B\u624D\u8FD4\u56DE\uFF1B</p></li></ul><p>3\u3001params\uFF0Cheaders</p><ul><li><p>params\uFF1A \u6307\u5B9Arequest\u4E2D\u5FC5\u987B\u5305\u542B\u67D0\u4E9B\u53C2\u6570\u503C\u662F\uFF0C\u624D\u8BA9\u8BE5\u65B9\u6CD5\u5904\u7406\u3002</p></li><li><p>headers\uFF1A \u6307\u5B9Arequest\u4E2D\u5FC5\u987B\u5305\u542B\u67D0\u4E9B\u6307\u5B9A\u7684header\u503C\uFF0C\u624D\u80FD\u8BA9\u8BE5\u65B9\u6CD5\u5904\u7406\u8BF7\u6C42\u3002</p></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/home&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IndexController</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
    * \u5C06\u591A\u4E2A\u8BF7\u6C42\u6620\u5C04\u5230\u4E00\u4E2A\u65B9\u6CD5\u4E0A\u53BB
    */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span>
        \u201C\u201D<span class="token punctuation">,</span>
        \u201C<span class="token operator">/</span>page\u201D<span class="token punctuation">,</span>
        &quot;page<span class="token operator">*</span>\u201D<span class="token punctuation">,</span>
        <span class="token string">&quot;view/*,**/msg&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">indexMultipleMapping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> &quot;<span class="token class-name">Hello</span> from index multiple mapping<span class="token punctuation">.</span>\u201D<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
    * \u662F\u5426\u662F\u5FC5\u987B\u4F20\u53C2
    * /home/name?person=xyz \u6216 /home/name
    */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> \u201C<span class="token operator">/</span>name\u201D<span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> &quot;person\u201D<span class="token punctuation">,</span> required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> personName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> &quot;<span class="token class-name">Required</span> element of request param\u201D<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
    * \u8BF7\u6C42\u7C7B\u578B\uFF0C\u8BF7\u6C42\u53C2\u6570\uFF0C\u9ED8\u8BA4\u503C
    */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/name&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;person&quot;</span><span class="token punctuation">,</span> defaultValue <span class="token operator">=</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> personName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Required element of request param&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
    * \u4EA7\u751F\u4E00\u4E2A JSON \u54CD\u5E94
    */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/prod&quot;</span><span class="token punctuation">,</span> produces <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;application/JSON&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token class-name">String</span> <span class="token function">getProduces</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Produces attribute&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
    * \u53EF\u4EE5\u540C\u65F6\u5904\u7406\u8BF7\u6C42\u4E2D\u7684 JSON \u548C XML \u5185\u5BB9
    */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/cons&quot;</span><span class="token punctuation">,</span> consumes <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;application/JSON&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;application/XML&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">getConsumes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Consumes attribute&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
    * \u6839\u636E\u8BF7\u6C42\u4E2D\u7684\u6D88\u606F\u5934\u5185\u5BB9\u7F29\u5C0F\u8BF7\u6C42\u6620\u5C04\u7684\u8303\u56F4
    */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> \u201C<span class="token operator">/</span>head\u201D<span class="token punctuation">,</span> headers <span class="token operator">=</span> <span class="token punctuation">{</span>
        &quot;content<span class="token operator">-</span>type<span class="token operator">=</span>text<span class="token operator">/</span>plain\u201D<span class="token punctuation">,</span>
        <span class="token string">&quot;content-type=text/html&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> &quot;<span class="token class-name">Mapping</span> applied along <span class="token keyword">with</span> <span class="token namespace">headers</span>\u201D<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
    * \u53EF\u4EE5\u8BA9\u591A\u4E2A\u5904\u7406\u65B9\u6CD5\u5904\u7406\u5230\u540C\u4E00\u4E2AURL \u7684\u8BF7\u6C42, \u800C\u8FD9\u4E9B\u8BF7\u6C42\u7684\u53C2\u6570\u662F\u4E0D\u4E00\u6837\u7684
    */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> \u201C<span class="token operator">/</span>fetch\u201D<span class="token punctuation">,</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;personId=10&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">getParams</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>\u201CpersonId\u201D<span class="token punctuation">)</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Fetched parameter using params attribute = &quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
    * \u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u6765\u53EA\u5904\u7406\u53EF\u4EE5\u5339\u914D\u5230\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\u52A8\u6001 URI
    */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> \u201C<span class="token operator">/</span>fetch<span class="token operator">/</span><span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>\u201D<span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">getDynamicUriValueRegex</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span>\u201Cname\u201D<span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>\u201C<span class="token class-name">Name</span> is &quot; <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> &quot;<span class="token class-name">Dynamic</span> URI parameter fetched using regex\u201D<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
    * \u5411 /home \u53D1\u8D77\u7684\u4E00\u4E2A\u8BF7\u6C42\u5C06\u4F1A\u7531 default() \u6765\u5904\u7406\uFF0C\u56E0\u4E3A\u6CE8\u89E3\u5E76\u6CA1\u6709\u6307\u5B9A\u4EFB\u4F55\u503C
    */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span>
    <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> &quot;<span class="token class-name">This</span> is a <span class="token keyword">default</span> method <span class="token keyword">for</span> the <span class="token keyword">class</span>\u201D<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1\u3001-getmapping" tabindex="-1"><a class="header-anchor" href="#_3-1\u3001-getmapping" aria-hidden="true">#</a> 3.1\u3001@GetMapping</h4><p>@GetMapping(&quot;users&quot;)<code>\u7B49\u4EF7\u4E8E</code>@RequestMapping(value=&quot;/users&quot;,method=RequestMethod.GET)</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/users&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> userRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2\u3001-postmapping" tabindex="-1"><a class="header-anchor" href="#_3-2\u3001-postmapping" aria-hidden="true">#</a> 3.2\u3001@PostMapping</h4><p>@PostMapping(&quot;users&quot;)<code>\u7B49\u4EF7\u4E8E</code>@RequestMapping(value=&quot;/users&quot;,method=RequestMethod.POST)</p><p>\u5173\u4E8E<code>@RequestBody</code>\u6CE8\u89E3\u7684\u4F7F\u7528\uFF0C\u5728\u4E0B\u9762\u7684\u201C\u524D\u540E\u7AEF\u4F20\u503C\u201D\u8FD9\u5757\u4F1A\u8BB2\u5230\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/users&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">createUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Valid</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserCreateRequest</span> userCreateRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> userRespository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3\u3001-putmapping" tabindex="-1"><a class="header-anchor" href="#_3-3\u3001-putmapping" aria-hidden="true">#</a> 3.3\u3001@PutMapping</h4><p>@PutMapping(&quot;/users/{userId}&quot;)<code>\u7B49\u4EF7\u4E8E</code>@RequestMapping(value=&quot;/users/{userId}&quot;,method=RequestMethod.PUT)</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/users/{userId}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;userId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> userId<span class="token punctuation">,</span>
  <span class="token annotation punctuation">@Valid</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserUpdateRequest</span> userUpdateRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-4\u3001-deletemapping" tabindex="-1"><a class="header-anchor" href="#_3-4\u3001-deletemapping" aria-hidden="true">#</a> 3.4\u3001@DeleteMapping</h4><p>@DeleteMapping(&quot;/users/{userId}&quot;)<code>\u7B49\u4EF7\u4E8E</code>@RequestMapping(value=&quot;/users/{userId}&quot;,method=RequestMethod.DELETE)</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/users/{userId}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span> <span class="token function">deleteUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;userId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> userId<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-5\u3001-patchmapping" tabindex="-1"><a class="header-anchor" href="#_3-5\u3001-patchmapping" aria-hidden="true">#</a> 3.5\u3001@PatchMapping</h4><p>\u4E00\u822C\u5B9E\u9645\u9879\u76EE\u4E2D\uFF0C\u6211\u4EEC\u90FD\u662F PUT \u4E0D\u591F\u7528\u4E86\u4E4B\u540E\u624D\u7528 PATCH \u8BF7\u6C42\u53BB\u66F4\u65B0\u6570\u636E\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>  <span class="token annotation punctuation">@PatchMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/profile&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span> <span class="token function">updateStudent</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">StudentUpdateRequest</span> studentUpdateRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        studentRepository<span class="token punctuation">.</span><span class="token function">updateDetail</span><span class="token punctuation">(</span>studentUpdateRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4\u3001-modelattribute\u548C-sessionattributes" tabindex="-1"><a class="header-anchor" href="#_4\u3001-modelattribute\u548C-sessionattributes" aria-hidden="true">#</a> 4\u3001@ModelAttribute\u548C @SessionAttributes</h3><p>\u8BE5Controller\u7684\u6240\u6709\u65B9\u6CD5\u5728\u8C03\u7528\u524D\uFF0C\u5148\u6267\u884C\u6B64@ModelAttribute\u65B9\u6CD5\uFF0C\u53EF\u7528\u4E8E\u6CE8\u89E3\u548C\u65B9\u6CD5\u53C2\u6570\u4E2D\uFF0C\u53EF\u4EE5\u628A\u8FD9\u4E2A@ModelAttribute\u7279\u6027\uFF0C\u5E94\u7528\u5728BaseController\u5F53\u4E2D\uFF0C\u6240\u6709\u7684Controller\u7EE7\u627FBaseController\uFF0C\u5373\u53EF\u5B9E\u73B0\u5728\u8C03\u7528Controller\u65F6\uFF0C\u5148\u6267\u884C@ModelAttribute\u65B9\u6CD5\u3002</p><h4 id="_4-1\u3001-sessionattributes" tabindex="-1"><a class="header-anchor" href="#_4-1\u3001-sessionattributes" aria-hidden="true">#</a> 4.1\u3001@SessionAttributes</h4><p>@SessionAttributes\u5373\u5C06\u503C\u653E\u5230session\u4F5C\u7528\u57DF\u4E2D\uFF0C\u5199\u5728class\u4E0A\u9762\u3002</p><p>\u5177\u4F53\u793A\u4F8B\u53C2\u89C1\u4E0B\u9762\uFF1A\u4F7F\u7528 @ModelAttribute \u548C @SessionAttributes \u4F20\u9012\u548C\u4FDD\u5B58\u6570\u636ESpringMVC \u652F\u6301\u4F7F\u7528 @ModelAttribute \u548C @SessionAttributes \u5728\u4E0D\u540C\u7684\u6A21\u578B\uFF08model\uFF09\u548C\u63A7\u5236\u5668\u4E4B\u95F4\u5171\u4EAB\u6570\u636E\u3002 @ModelAttribute \u4E3B\u8981\u6709\u4E24\u79CD\u4F7F\u7528\u65B9\u5F0F\uFF0C\u4E00\u79CD\u662F\u6807\u6CE8\u5728\u65B9\u6CD5\u4E0A\uFF0C\u4E00\u79CD\u662F\u6807\u6CE8\u5728 Controller \u65B9\u6CD5\u53C2\u6570\u4E0A\u3002</p><h4 id="_4-2\u3001-modelattribute" tabindex="-1"><a class="header-anchor" href="#_4-2\u3001-modelattribute" aria-hidden="true">#</a> 4.2\u3001@ModelAttribute</h4><p>\u5F53 @ModelAttribute \u6807\u8BB0\u5728\u65B9\u6CD5\u4E0A\u7684\u65F6\u5019\uFF0C<code>\u8BE5\u65B9\u6CD5\u5C06\u5728\u5904\u7406\u5668\u65B9\u6CD5\u6267\u884C\u4E4B\u524D\u6267\u884C</code>\uFF0C\u7136\u540E\u628A\u8FD4\u56DE\u7684\u5BF9\u8C61\u5B58\u653E\u5728 session \u6216\u6A21\u578B\u5C5E\u6027\u4E2D\uFF0C\u5C5E\u6027\u540D\u79F0\u53EF\u4EE5\u4F7F\u7528 @ModelAttribute(\u201CattributeName\u201D) \u5728\u6807\u8BB0\u65B9\u6CD5\u7684\u65F6\u5019\u6307\u5B9A\uFF0C\u82E5\u672A\u6307\u5B9A\uFF0C\u5219\u4F7F\u7528\u8FD4\u56DE\u7C7B\u578B\u7684\u7C7B\u540D\u79F0\uFF08\u9996\u5B57\u6BCD\u5C0F\u5199\uFF09\u4F5C\u4E3A\u5C5E\u6027\u540D\u79F0\u3002</p><h3 id="_5\u3001-pathvariable" tabindex="-1"><a class="header-anchor" href="#_5\u3001-pathvariable" aria-hidden="true">#</a> 5\u3001@PathVariable</h3><p>\u7528\u4E8E\u5C06\u8BF7\u6C42URL\u4E2D\u7684\u6A21\u677F\u53D8\u91CF\u6620\u5C04\u5230\u529F\u80FD\u5904\u7406\u65B9\u6CD5\u7684\u53C2\u6570\u4E0A\uFF0C\u5373\u53D6\u51FAuri\u6A21\u677F\u4E2D\u7684\u53D8\u91CF\u4F5C\u4E3A\u53C2\u6570\u3002\u5982\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/user/{userId}/roles/{roleId}&quot;</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getLogin</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;userId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;roleId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> roleId<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;User Id : &quot;</span> <span class="token operator">+</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Role Id : &quot;</span> <span class="token operator">+</span> roleId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/product/{productId}&quot;</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;productId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> productId<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Product Id : &quot;</span> <span class="token operator">+</span> productId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token class-name">By</span> cnblogs<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token class-name">GoCircle</span><span class="token punctuation">]</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hljs-meta&quot;</span><span class="token operator">&gt;</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/javabeat/{regexp1:[a-z-]+}&quot;</span><span class="token punctuation">,</span>
    method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getRegExp</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;regexp1&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> regexp1<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;URI Part 1 : &quot;</span> <span class="token operator">+</span> regexp1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6\u3001-requestparam" tabindex="-1"><a class="header-anchor" href="#_6\u3001-requestparam" aria-hidden="true">#</a> 6\u3001@RequestParam</h3><p>@RequestParam\u4E3B\u8981\u7528\u4E8E\u5728SpringMVC\u540E\u53F0\u63A7\u5236\u5C42\u83B7\u53D6\u53C2\u6570\uFF0C\u7C7B\u4F3C\u4E00\u79CD\u662Frequest.getParameter(&quot;name&quot;)\uFF0C\u5B83\u6709\u4E09\u4E2A\u5E38\u7528\u53C2\u6570\uFF1AdefaultValue = &quot;0&quot;, required = false, value = &quot;isApp&quot;\uFF1BdefaultValue \u8868\u793A\u8BBE\u7F6E\u9ED8\u8BA4\u503C\uFF0Crequired \u901A\u8FC7boolean\u8BBE\u7F6E\u662F\u5426\u662F\u5FC5\u987B\u8981\u4F20\u5165\u7684\u53C2\u6570\uFF0Cvalue \u503C\u8868\u793A\u63A5\u53D7\u7684\u4F20\u5165\u7684\u53C2\u6570\u7C7B\u578B\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Resp</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;course_id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Resp</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>customerInfoService<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7\u3001-responsebody" tabindex="-1"><a class="header-anchor" href="#_7\u3001-responsebody" aria-hidden="true">#</a> 7\u3001@ResponseBody</h3><p>Spring4\u540E\u51FA\u73B0\u7684\u6CE8\u89E3\u3002</p><p>\u4F5C\u7528\uFF1A \u8BE5\u6CE8\u89E3\u7528\u4E8E\u5C06Controller\u7684\u65B9\u6CD5\u8FD4\u56DE\u7684\u5BF9\u8C61\uFF0C\u7528\u4E8E\u6784\u5EFARESTful\u7684api\uFF0C\u901A\u8FC7\u9002\u5F53\u7684HttpMessageConverter\u8F6C\u6362\u4E3A\u6307\u5B9A\u683C\u5F0F\u540E\uFF0C\u5199\u5165\u5230Response\u5BF9\u8C61\u7684body\u6570\u636E\u533A\u3002</p><p>\u4F7F\u7528\u65F6\u673A\uFF1A\u8FD4\u56DE\u7684\u6570\u636E\u4E0D\u662Fhtml\u6807\u7B7E\u7684\u9875\u9762\uFF0C\u800C\u662F\u5176\u4ED6\u67D0\u79CD\u683C\u5F0F\u7684\u6570\u636E\u65F6\uFF08\u5982json\u3001xml\u7B49\uFF09\u4F7F\u7528\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>\u201C<span class="token operator">/</span>test\u201D<span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span>\u201Dok\u201D<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8\u3001-crossorigin" tabindex="-1"><a class="header-anchor" href="#_8\u3001-crossorigin" aria-hidden="true">#</a> 8\u3001@CrossOrigin</h3><p><code>@CrossOrigin</code>\u6CE8\u89E3\u5C06\u4E3A\u8BF7\u6C42\u5904\u7406\u7C7B\u6216\u8BF7\u6C42\u5904\u7406\u65B9\u6CD5\u63D0\u4F9B\u8DE8\u57DF\u8C03\u7528\u652F\u6301\u3002\u5982\u679C\u6211\u4EEC\u5C06\u6B64\u6CE8\u89E3\u6807\u6CE8\u7C7B\uFF0C\u90A3\u4E48\u7C7B\u4E2D\u7684\u6240\u6709\u65B9\u6CD5\u90FD\u5C06\u83B7\u5F97\u652F\u6301\u8DE8\u57DF\u7684\u80FD\u529B\u3002\u4F7F\u7528\u6B64\u6CE8\u89E3\u7684\u597D\u5904\u662F\u53EF\u4EE5\u5FAE\u8C03\u8DE8\u57DF\u884C\u4E3A\u3002</p><h3 id="_9\u3001-initbinder" tabindex="-1"><a class="header-anchor" href="#_9\u3001-initbinder" aria-hidden="true">#</a> 9\u3001@InitBinder</h3><p><code>@InitBinder</code>\u6CE8\u89E3\u7528\u4E8E\u6807\u6CE8\u521D\u59CB\u5316WebDataBinider\u7684\u65B9\u6CD5\uFF0C\u8BE5\u65B9\u6CD5\u7528\u4E8E\u5BF9Http\u8BF7\u6C42\u4F20\u9012\u7684\u8868\u5355\u6570\u636E\u8FDB\u884C\u5904\u7406\uFF0C\u5982\u65F6\u95F4\u683C\u5F0F\u5316\u3001\u5B57\u7B26\u4E32\u5904\u7406\u7B49\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@InitBinder</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initBinder</span><span class="token punctuation">(</span><span class="token class-name">WebDataBinder</span> dataBinder<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">StringTrimmerEditor</span> editor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTrimmerEditor</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dataBinder<span class="token punctuation">.</span><span class="token function">registerCustomEditor</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>editor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4E5D\u3001\u5C5E\u6027\u914D\u7F6E\u76F8\u5173" tabindex="-1"><a class="header-anchor" href="#\u4E5D\u3001\u5C5E\u6027\u914D\u7F6E\u76F8\u5173" aria-hidden="true">#</a> \u4E5D\u3001\u5C5E\u6027\u914D\u7F6E\u76F8\u5173</h2><h3 id="_1\u3001-configuration" tabindex="-1"><a class="header-anchor" href="#_1\u3001-configuration" aria-hidden="true">#</a> 1\u3001@Configuration</h3><p>Spring3.0\uFF0C\u76F8\u5F53\u4E8E\u4F20\u7EDF\u7684xml\u914D\u7F6E\u6587\u4EF6\uFF0C\u5982\u679C\u6709\u4E9B\u7B2C\u4E09\u65B9\u5E93\u9700\u8981\u7528\u5230xml\u6587\u4EF6\uFF0C\u5EFA\u8BAE\u4ECD\u7136\u901A\u8FC7@Configuration\u7C7B\u4F5C\u4E3A\u9879\u76EE\u7684\u914D\u7F6E\u4E3B\u7C7B\u53EF\u4EE5\u4F7F\u7528@ImportResource\u6CE8\u89E3\u52A0\u8F7Dxml\u914D\u7F6E\u6587\u4EF6\u3002</p><p><code>proxyBeanMethods</code>\u5C5E\u6027\u9ED8\u8BA4\u503C\u662Ftrue,\u4E5F\u5C31\u662F\u8BF4\u8BE5\u914D\u7F6E\u7C7B\u4F1A\u88AB\u4EE3\u7406\uFF08CGLIB\uFF09\uFF0C\u5728\u540C\u4E00\u4E2A\u914D\u7F6E\u6587\u4EF6\u4E2D\u8C03\u7528\u5176\u5B83\u88AB@Bean\u6CE8\u89E3\u6807\u6CE8\u7684\u65B9\u6CD5\u83B7\u53D6\u5BF9\u8C61\u65F6\u4F1A\u76F4\u63A5\u4ECEIOC\u5BB9\u5668\u4E4B\u4E2D\u83B7\u53D6\u3002</p><p>\u6CE8\u610F\uFF1A@Configuration\u6CE8\u89E3\u7684\u914D\u7F6E\u7C7B\u6709\u5982\u4E0B\u8981\u6C42\uFF1A</p><ol><li>@Configuration\u4E0D\u53EF\u4EE5\u662Ffinal\u7C7B\u578B\uFF1B</li><li>@Configuration\u4E0D\u53EF\u4EE5\u662F\u533F\u540D\u7C7B\uFF1B</li><li>\u5D4C\u5957\u7684configuration\u5FC5\u987B\u662F\u9759\u6001\u7C7B\u3002</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u672A\u6307\u5B9Abean \u7684\u540D\u79F0\uFF0C\u9ED8\u8BA4\u91C7\u7528\u7684\u662F &quot;\u65B9\u6CD5\u540D&quot; + &quot;\u9996\u5B57\u6BCD\u5C0F\u5199&quot;\u7684\u914D\u7F6E\u65B9\u5F0F</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">MyBean</span> <span class="token function">myBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2\u3001-configurationproperties" tabindex="-1"><a class="header-anchor" href="#_2\u3001-configurationproperties" aria-hidden="true">#</a> 2\u3001@ConfigurationProperties</h3><ul><li>\u524D\u7F00\u5B9A\u4E49\u4E86\u54EA\u4E9B\u5916\u90E8\u5C5E\u6027\u5C06\u7ED1\u5B9A\u5230\u7C7B\u7684\u5B57\u6BB5\u4E0A</li><li>\u6839\u636E Spring Boot \u5BBD\u677E\u7684\u7ED1\u5B9A\u89C4\u5219\uFF0C\u7C7B\u7684\u5C5E\u6027\u540D\u79F0\u5FC5\u987B\u4E0E\u5916\u90E8\u5C5E\u6027\u7684\u540D\u79F0\u5339\u914D</li><li>\u6211\u4EEC\u53EF\u4EE5\u7B80\u5355\u5730\u7528\u4E00\u4E2A\u503C\u521D\u59CB\u5316\u4E00\u4E2A\u5B57\u6BB5\u6765\u5B9A\u4E49\u4E00\u4E2A\u9ED8\u8BA4\u503C</li><li>\u7C7B\u672C\u8EAB\u53EF\u4EE5\u662F\u5305\u79C1\u6709\u7684</li><li>\u7C7B\u7684\u5B57\u6BB5\u5FC5\u987B\u6709\u516C\u5171 setter \u65B9\u6CD5</li></ul><p>\u6FC0\u6D3B @ConfigurationProperties</p><ul><li>\u53EA\u6709\u5F53\u7C7B\u6240\u5728\u7684\u5305\u88AB Spring <code>@ComponentScan</code> \u6CE8\u89E3\u626B\u63CF\u5230\u624D\u4F1A\u751F\u6548\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u8BE5\u6CE8\u89E3\u4F1A\u626B\u63CF\u5728\u4E3B\u5E94\u7528\u7C7B\u4E0B\u7684\u6240\u6709\u5305\u7ED3\u6784\u3002</li></ul><p>\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0 @Component \u6CE8\u89E3\u8BA9 Component Scan \u626B\u63CF\u5230\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;demo&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">DemoProperties</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4E5F\u53EF\u4EE5\u901A\u8FC7 Spring \u7684 Java Configuration \u7279\u6027\u5B9E\u73B0\u540C\u6837\u7684\u6548\u679C\u3002</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">class</span> <span class="token class-name">PropertiesConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">DemoProperties</span> <span class="token function">demoProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DemoProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528 <code>@EnableConfigurationProperties</code> \u6CE8\u89E3\u8BA9\u6211\u4EEC\u7684\u7C7B\u88AB Spring Boot \u6240\u77E5\u9053\uFF0C\u5728\u8BE5\u6CE8\u89E3\u4E2D\u5176\u5B9E\u662F\u7528\u4E86<code>@Import(EnableConfigurationPropertiesImportSelector.class)</code> \u5B9E\u73B0</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token class-name">DemoProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">PropertiesConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,269),x=a("Spring Boot \u5185\u7F6E\u652F\u6301\u4ECE\u914D\u7F6E\u53C2\u6570\u4E2D\u89E3\u6790 durations (\u6301\u7EED\u65F6\u95F4)\uFF0C"),_={href:"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-conversion-duration",target:"_blank",rel:"noopener noreferrer"},j=a("\u5B98\u7F51\u6587\u6863"),S=a(" \u7ED9\u51FA\u4E86\u660E\u786E\u7684\u8BF4\u660E\u3002"),C=t(`<p>\u914D\u7F6E duration \u4E0D\u5199\u5355\u4F4D\uFF0C\u9ED8\u8BA4\u6309\u7167\u6BEB\u79D2\u6765\u6307\u5B9A\uFF0C\u6211\u4EEC\u4E5F\u53EF\u5DF2\u901A\u8FC7 @DurationUnit \u6765\u6307\u5B9A\u5355\u4F4D\u3002\u5E38\u7528\u5355\u4F4D\u5982\u4E0B:</p><ul><li>ns for nanoseconds (\u7EB3\u79D2)</li><li>us for microseconds (\u5FAE\u79D2)</li><li>ms for milliseconds (\u6BEB\u79D2)</li><li>s for seconds (\u79D2)</li><li>m for minutes (\u5206)</li><li>h for hours (\u65F6)</li><li>d for days (\u5929)</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;demo&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">DemoProperties</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@DurarionUnit</span><span class="token punctuation">(</span><span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Duration</span> timeout<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>DataSize</p><p>\u4E0E Duration \u7684\u7528\u6CD5\u4E00\u6BDB\u4E00\u6837\uFF0C\u9ED8\u8BA4\u5355\u4F4D\u662F byte (\u5B57\u8282)\uFF0C\u53EF\u4EE5\u901A\u8FC7 @DataSizeUnit \u5355\u4F4D\u6307\u5B9A</p><p>\u4F46\u662F\uFF0C\u6211\u6D4B\u8BD5\u7684\u65F6\u5019\u6253\u5370\u51FA\u6765\u7ED3\u679C\u90FD\u662F\u4EE5 B (bytes) \u6765\u663E\u793A\u3002\u5E38\u89C1\u5355\u4F4D\u5982\u4E0B</p><ul><li><code>B</code> for bytes</li><li><code>KB</code> for kilobytes</li><li><code>MB</code> for megabytes</li><li><code>GB</code> for gigabytes</li><li><code>TB</code> for terabytes</li></ul><h3 id="_3\u3001-import" tabindex="-1"><a class="header-anchor" href="#_3\u3001-import" aria-hidden="true">#</a> 3\u3001@Import</h3><p>@Import\u6CE8\u89E3\u662F\u5F15\u5165\u5E26\u6709@Configuration\u7684java\u7C7B\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">MyImportSelector</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MyImportBeanDefinitionRegistrar</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MyImportSelector1</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Config</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">BeanDemo0</span> <span class="token function">beanDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----beanDemo----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BeanDemo0</span> beanDemo0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BeanDemo0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        beanDemo0<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        beanDemo0<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> beanDemo0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4\u3001-importresource" tabindex="-1"><a class="header-anchor" href="#_4\u3001-importresource" aria-hidden="true">#</a> 4\u3001@ImportResource</h3><p>@ImportResource\u662F\u5F15\u5165spring\u914D\u7F6E\u6587\u4EF6.xml</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span>locations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanConfigTest</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5341\u3001springcloud" tabindex="-1"><a class="header-anchor" href="#\u5341\u3001springcloud" aria-hidden="true">#</a> \u5341\u3001SpringCloud</h2><h3 id="_1\u3001-enableeurekaserver" tabindex="-1"><a class="header-anchor" href="#_1\u3001-enableeurekaserver" aria-hidden="true">#</a> 1\u3001@EnableEurekaServer</h3><p>\u7528\u5728springboot\u542F\u52A8\u7C7B\u4E0A\uFF0C\u8868\u793A\u8FD9\u662F\u4E00\u4E2Aeureka\u670D\u52A1\u6CE8\u518C\u4E2D\u5FC3\uFF1B</p><h3 id="_2\u3001-enablediscoveryclient" tabindex="-1"><a class="header-anchor" href="#_2\u3001-enablediscoveryclient" aria-hidden="true">#</a> 2\u3001@EnableDiscoveryClient</h3><p>\u7528\u5728springboot\u542F\u52A8\u7C7B\u4E0A\uFF0C\u8868\u793A\u8FD9\u662F\u4E00\u4E2A\u670D\u52A1\uFF0C\u53EF\u4EE5\u88AB\u6CE8\u518C\u4E2D\u5FC3\u627E\u5230\uFF1B</p><h3 id="_3\u3001-loadbalanced" tabindex="-1"><a class="header-anchor" href="#_3\u3001-loadbalanced" aria-hidden="true">#</a> 3\u3001@LoadBalanced</h3><p>\u5F00\u542F\u8D1F\u8F7D\u5747\u8861\u80FD\u529B\uFF1B</p><h3 id="_4\u3001-enablecircuitbreaker" tabindex="-1"><a class="header-anchor" href="#_4\u3001-enablecircuitbreaker" aria-hidden="true">#</a> 4\u3001@EnableCircuitBreaker</h3><p>\u7528\u5728\u542F\u52A8\u7C7B\u4E0A\uFF0C\u5F00\u542F\u65AD\u8DEF\u5668\u529F\u80FD\uFF1B</p><h3 id="_5\u3001-hystrixcommand-fallbackmethod-backmethod" tabindex="-1"><a class="header-anchor" href="#_5\u3001-hystrixcommand-fallbackmethod-backmethod" aria-hidden="true">#</a> 5\u3001@HystrixCommand(fallbackMethod=\u201DbackMethod\u201D)</h3><p>\u7528\u5728\u65B9\u6CD5\u4E0A\uFF0CfallbackMethod\u6307\u5B9A\u65AD\u8DEF\u56DE\u8C03\u65B9\u6CD5\uFF1B</p><h3 id="_6\u3001-enableconfigserver" tabindex="-1"><a class="header-anchor" href="#_6\u3001-enableconfigserver" aria-hidden="true">#</a> 6\u3001@EnableConfigServer</h3><p>\u7528\u5728\u542F\u52A8\u7C7B\u4E0A\uFF0C\u8868\u793A\u8FD9\u662F\u4E00\u4E2A\u914D\u7F6E\u4E2D\u5FC3\uFF0C\u5F00\u542FConfig Server\uFF1B</p><h3 id="_7\u3001-enablezuulproxy" tabindex="-1"><a class="header-anchor" href="#_7\u3001-enablezuulproxy" aria-hidden="true">#</a> 7\u3001@EnableZuulProxy</h3><p>\u5F00\u542Fzuul\u8DEF\u7531\uFF0C\u7528\u5728\u542F\u52A8\u7C7B\u4E0A\uFF1B</p><h3 id="_8\u3001-springcloudapplication" tabindex="-1"><a class="header-anchor" href="#_8\u3001-springcloudapplication" aria-hidden="true">#</a> 8\u3001@SpringCloudApplication:</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>\`<span class="token punctuation">,</span>\`<span class="token annotation punctuation">@EnableDiscovertyClient</span>\`<span class="token punctuation">,</span>\`<span class="token annotation punctuation">@EnableCircuitBreaker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5206\u522B\u662FSpringBoot\u6CE8\u89E3\u3001\u6CE8\u518C\u670D\u52A1\u4E2D\u5FC3Eureka\u6CE8\u89E3\u3001\u65AD\u8DEF\u5668\u6CE8\u89E3\u3002\u5BF9\u4E8ESpringCloud\u6765\u8BF4\uFF0C\u8FD9\u662F\u6BCF\u4E00\u5FAE\u670D\u52A1\u5FC5\u987B\u5E94\u6709\u7684\u4E09\u4E2A\u6CE8\u89E3\uFF0C\u6240\u4EE5\u624D\u63A8\u51FA\u4E86@SpringCloudApplication\u8FD9\u4E00\u6CE8\u89E3\u96C6\u5408\u3002</p><h2 id="\u5341\u4E00\u3001\u6D4B\u8BD5\u76F8\u5173" tabindex="-1"><a class="header-anchor" href="#\u5341\u4E00\u3001\u6D4B\u8BD5\u76F8\u5173" aria-hidden="true">#</a> \u5341\u4E00\u3001\u6D4B\u8BD5\u76F8\u5173</h2><h3 id="_1\u3001-activeprofiles" tabindex="-1"><a class="header-anchor" href="#_1\u3001-activeprofiles" aria-hidden="true">#</a> 1\u3001@ActiveProfiles</h3><p><code>@ActiveProfiles</code>\u4E00\u822C\u4F5C\u7528\u4E8E\u6D4B\u8BD5\u7C7B\u4E0A\uFF0C \u7528\u4E8E\u58F0\u660E\u751F\u6548\u7684 Spring \u914D\u7F6E\u6587\u4EF6\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>webEnvironment <span class="token operator">=</span> RANDOM_PORT<span class="token punctuation">)</span>
<span class="token annotation punctuation">@ActiveProfiles</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">TestBase</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2\u3001-test" tabindex="-1"><a class="header-anchor" href="#_2\u3001-test" aria-hidden="true">#</a> 2\u3001@Test</h3><p><code>@Test</code>\u58F0\u660E\u4E00\u4E2A\u65B9\u6CD5\u4E3A\u6D4B\u8BD5\u65B9\u6CD5</p><p><code>@Transactional</code>\u88AB\u58F0\u660E\u7684\u6D4B\u8BD5\u65B9\u6CD5\u7684\u6570\u636E\u4F1A\u56DE\u6EDA\uFF0C\u907F\u514D\u6C61\u67D3\u6D4B\u8BD5\u6570\u636E\u3002</p><h3 id="_3\u3001-withmockuser" tabindex="-1"><a class="header-anchor" href="#_3\u3001-withmockuser" aria-hidden="true">#</a> 3\u3001@WithMockUser</h3><p><code>@WithMockUser</code> Spring Security \u63D0\u4F9B\u7684\uFF0C\u7528\u6765\u6A21\u62DF\u4E00\u4E2A\u771F\u5B9E\u7528\u6237\uFF0C\u5E76\u4E14\u53EF\u4EE5\u8D4B\u4E88\u6743\u9650\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token annotation punctuation">@Transactional</span>
    <span class="token annotation punctuation">@WithMockUser</span><span class="token punctuation">(</span>username <span class="token operator">=</span> <span class="token string">&quot;user-id-18163138155&quot;</span><span class="token punctuation">,</span> authorities <span class="token operator">=</span> <span class="token string">&quot;ROLE_TEACHER&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">should_import_student_success</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,41);function A(R,M){const s=o("ExternalLinkIcon");return c(),i("div",null,[u,r,n("p",null,[n("a",d,[k,e(s)])]),v,n("p",null,[n("a",m,[b,e(s)])]),g,n("p",null,[h,n("a",y,[f,e(s)]),q]),w,n("p",null,[x,n("a",_,[j,e(s)]),S]),C])}var P=p(l,[["render",A],["__file","Spring\u6CE8\u89E3\u5927\u5168.html.vue"]]);export{P as default};
